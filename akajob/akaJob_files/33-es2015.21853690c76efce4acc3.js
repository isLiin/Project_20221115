(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{Qiqx:function(e,t,n){"use strict";n.r(t),n.d(t,"TabNonTechnicalSkillsModule",(function(){return u}));var i=n("aceb"),r=n("vTDv"),o=n("tyNb"),a=n("cHIL"),l=n("VVTm"),s=n("fXoL");const d=[{path:"",component:a.a},{path:"add-new",component:l.a}];let c=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.g.forChild(d)],o.g]}),e})();var m=n("i2L+"),p=n("msgN");let u=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[i.ob],imports:[[i.u,r.a,c,i.D,i.N,i.ub,m.a,i.lb,p.a]]}),e})()},VVTm:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("JuUv"),r=n("vC38"),o=n("J9tS"),a=n("LvDl"),l=n("GAup"),s=n("mlVJ"),d=n("Hwp3"),c=n("fXoL"),m=n("aceb"),p=n("tyNb"),u=n("ofXK"),h=n("3Pt+");function g(e,t){1&e&&c["\u0275\u0275element"](0,"tr",21)}const f=function(e,t){return{expanded:e,akachild:t}};function b(e,t){if(1&e&&c["\u0275\u0275element"](0,"tr",22),2&e){const e=t.$implicit;c["\u0275\u0275property"]("clickToToggle",!1)("ngClass",c["\u0275\u0275pureFunction2"](2,f,e.expanded,!e.hasChildren()))}}function C(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",23),c["\u0275\u0275text"](1,"Skill Name"),c["\u0275\u0275elementEnd"]())}function v(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",24),c["\u0275\u0275element"](1,"nb-tree-grid-row-toggle",25),c["\u0275\u0275elementStart"](2,"span",26),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",e.expanded?"tg-expanded":"tg-collapsed")("expanded",e.expanded)("ngClass",e.hasChildren()?"":"d-none"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.data.name)}}function M(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",27),c["\u0275\u0275text"](1,"Level"),c["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",32),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275propertyInterpolate"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.value)}}function k(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"select",30),c["\u0275\u0275listener"]("ngModelChange",(function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.data.proficiency=t})),c["\u0275\u0275template"](1,x,2,2,"option",31),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"]();c["\u0275\u0275propertyInterpolate"]("name","cbo_"+e.data.name),c["\u0275\u0275property"]("ngModel",e.data.proficiency),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.levels)}}function S(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",28),c["\u0275\u0275template"](1,k,2,3,"select",29),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.hasChildren())}}let P=(()=>{class e{constructor(e,t,n,i,r){this.layoutService=e,this.crudService=t,this.toastrService=n,this.router=i,this.messageBusService=r,this.skillData=[],this.isExpandAll=!1,this.levels=[{id:1,value:"1 - Moderate"},{id:2,value:"2 - Good"},{id:3,value:"3 - Excellent"}],this.allColumns=["name","proficiency"],this.layoutService.changeBreadcrumb({breadcrumb:"Profile",pageTitle:"Add Additional Skills"})}ngOnInit(){this.resumeProfile=this.layoutService.getResumeProfile(),this.loadMasterData(),this.currentUser=this.layoutService.getUserProfile(),this.currentUser.account==this.resumeProfile.account?(this.busData={permissionModule:s.d.MyProfile,sources:this.router[s.l.AccountPermissions]},this.messageBusService.addMessage(s.o.permissionChannel,s.p.loadUserRole,this.busData)):(this.busData={permissionModule:s.d.OtherProfile,sources:this.router[s.l.AccountPermissions]},this.messageBusService.addMessage(s.o.permissionChannel,s.p.loadUserRole,this.busData))}loadMasterData(){var e;const t=i.a.ApiUrl.NonTechnicalSkillGetAllSkillGroup+"?userId="+(null===(e=this.resumeProfile)||void 0===e?void 0:e.id);this.crudService.get(t).subscribe(e=>{e&&e.data&&(this.skillData=this.transformDataTreeView(e.data))},e=>{this.handleApiResponseError(e)})}transformDataTreeView(e){const t=[];return a.each(e,e=>{const n=[];a.each(e.skillCategories,e=>{n.push({data:{id:e.id,skillId:e.skillId,resumeId:e.resumeId,proficiency:e.proficiency,name:e.name,proficiencyName:e.proficiencyName},children:[]})}),t.push({data:{id:e.id,skillId:e.skillId,name:e.name},children:n})}),t}expandAll(){this.isExpandAll=!this.isExpandAll;const e=[];a.each(this.skillData,t=>{t.expanded=this.isExpandAll,e.push(t)}),this.skillData=e}cancel(){this.redirectToListing()}submit(){const e=[];a.each(this.skillData,t=>{a.each(t.children,t=>{var n;t.data&&t.data.proficiency&&e.push({resumeId:t.data.resumeId||(null===(n=this.resumeProfile)||void 0===n?void 0:n.resumeId),skillId:t.data.skillId,proficiency:Number(t.data.proficiency)})})}),this.crudService.post(i.a.ApiUrl.NonTechnicalSkillSaveMultiple,e).subscribe(e=>{this.handleApiResponseSuccess(e,i.a.Messages.SaveSuccess,i.a.MessageType.Success)},e=>{l.a.fire({title:"You don\u2019t have any Additional Skill? Do you want to save?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Yes",cancelButtonText:"No",buttonsStyling:!1,customClass:{confirmButton:"btn btn-primary btn-sm mr-1 ml-1",cancelButton:"btn btn-outline-primary btn-sm mr-1 ml-1"}}).then(e=>{e.value&&(this.redirectToListing(),this.toastrService.success(i.a.Messages.SaveSuccess,i.a.MessageType.Success))})})}redirectToListing(){const e=this.router.url.replace("/add-new","");this.router.navigate([e]).then(e=>{this.messageBusService.addMessage(s.o.permissionChannel,s.p.loadUserRole,this.busData)})}handleApiResponseSuccess(e,t,n){e&&e.success?(this.toastrService.success(t,n),this.messageBusService.addMessage(s.o.profileChannel,s.p.updateResume),this.redirectToListing()):a.each(e.errors,e=>{this.toastrService.danger(e.message,i.a.MessageType.Error)})}handleApiResponseError(e){this.toastrService.danger(i.a.Messages.RequireSkill,i.a.MessageType.Error)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](r.b),c["\u0275\u0275directiveInject"](o.c),c["\u0275\u0275directiveInject"](m.jb),c["\u0275\u0275directiveInject"](p.c),c["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["aka-add-new-non-technical-skill"]],decls:25,vars:4,consts:[[1,"add-new-non-technical-skills-page"],[1,"aka-card"],[1,"aka-card-header"],[1,"aka-card-title"],[1,"aka-card-header-search"],["type","button",1,"btn","btn-light","btn-expand-all",3,"click"],[1,"aka-card-body","p-0"],[1,"add-new-non-technical-skills-content"],[1,"table-responsive"],["equalColumnsWidth","",3,"nbTreeGrid"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",3,"clickToToggle","ngClass",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],["nbTreeGridColumnDef","name"],["nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridColumnDef","proficiency"],["class","text-right","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["class","text-right td-level","nbTreeGridCell","",4,"nbTreeGridCellDef"],[1,"card-footer",2,"text-align","end","background-color","#fff"],["type","button","tabindex","1",1,"btn","btn-outline-primary",3,"click"],["type","submit","tabindex","1",1,"btn","btn-primary","ml-2",3,"click"],["nbTreeGridHeaderRow",""],["nbTreeGridRow","",3,"clickToToggle","ngClass"],["nbTreeGridHeaderCell",""],["nbTreeGridCell",""],[3,"ngClass","expanded"],[1,"n-skill-name"],["nbTreeGridHeaderCell","",1,"text-right"],["nbTreeGridCell","",1,"text-right","td-level"],["class","form-control ml-auto",3,"ngModel","name","ngModelChange",4,"ngIf"],[1,"form-control","ml-auto",3,"ngModel","name","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275text"](4," Add New Additional Skill "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"button",5),c["\u0275\u0275listener"]("click",(function(){return t.expandAll()})),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275elementStart"](9,"div",7),c["\u0275\u0275elementStart"](10,"div",8),c["\u0275\u0275elementStart"](11,"table",9),c["\u0275\u0275template"](12,g,1,0,"tr",10),c["\u0275\u0275template"](13,b,1,5,"tr",11),c["\u0275\u0275elementContainerStart"](14,12),c["\u0275\u0275template"](15,C,2,0,"th",13),c["\u0275\u0275template"](16,v,4,4,"td",14),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](17,15),c["\u0275\u0275template"](18,M,2,0,"th",16),c["\u0275\u0275template"](19,S,2,1,"td",17),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",18),c["\u0275\u0275elementStart"](21,"button",19),c["\u0275\u0275listener"]("click",(function(){return t.cancel()})),c["\u0275\u0275text"](22,"Cancel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"button",20),c["\u0275\u0275listener"]("click",(function(){return t.submit()})),c["\u0275\u0275text"](24,"Save And Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](t.isExpandAll?"Collapse All":"Expand All"),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("nbTreeGrid",t.skillData),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("nbTreeGridHeaderRowDef",t.allColumns),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("nbTreeGridRowDefColumns",t.allColumns))},directives:[m.pb,m.tb,m.wb,m.ob,m.qb,m.mb,m.sb,m.vb,u.NgClass,m.rb,m.nb,m.xb,u.NgIf,h.SelectControlValueAccessor,h.NgControlStatus,h.NgModel,u.NgForOf,h.NgSelectOption,h["\u0275angular_packages_forms_forms_x"]],styles:['.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]{margin-bottom:0}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:0;width:auto!important;border-bottom:0;text-transform:capitalize;font-size:14px;font-weight:600;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#101426;padding:9px 15px;background-color:#f2f6ff}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{text-align:left!important}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#273251;padding:8px 16px;border:none;border-top:1px solid #e4e9f2;vertical-align:middle;box-sizing:border-box;height:48px}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .level-title[_ngcontent-%COMP%]{font-size:12px;color:#2e3a59;text-transform:uppercase}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:left!important}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f2f6ff;border-color:#e4e9f2}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover > td[_ngcontent-%COMP%] > .td-endorsement[_ngcontent-%COMP%] > .action-column[_ngcontent-%COMP%]{width:auto;padding-left:6px;margin-left:16px;border-left:1px solid #e4e9f2;overflow:initial}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr.expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{position:relative}.add-new-non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr.expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{position:absolute;content:"";top:0;left:0;width:2px;height:100%;background-color:#274bdb}[_nghost-%COMP%]     .add-new-non-technical-skills-content table.nb-tree-grid tr.expanded td:first-child nb-tree-grid-row-toggle nb-icon{background-color:#274bdb!important;color:#fff!important}.td-level[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #e4e9f2;background-color:#fff;font-size:14px;color:#101426}.btn-expand-all[_ngcontent-%COMP%]{border-radius:16px;border:1px solid #e4e9f2;background-color:#fff;color:#2e3a59;font-size:14px;padding:4.5px 20px}.btn-expand-all[_ngcontent-%COMP%]:hover{background-color:#274bdb;color:#fff}tr.expanded[_ngcontent-%COMP%]{background-color:#fff!important}tr.akachild[_ngcontent-%COMP%]{background-color:rgba(247,249,252,.9)!important}@media (max-width:576px){.add-new-non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header[_ngcontent-%COMP%]{flex-wrap:wrap;align-items:center;height:auto}}.aka-invisible[_ngcontent-%COMP%]{visibility:hidden}']}),e})()},cHIL:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var i=n("vC38"),r=n("JuUv"),o=n("J9tS"),a=n("LvDl"),l=n("PSD3"),s=n.n(l),d=n("K3ix"),c=n("3Pt+"),m=n("mlVJ"),p=n("Hwp3"),u=n("quSY"),h=n("FRs0"),g=n("wd/R"),f=n("fXoL"),b=n("aceb"),C=n("tyNb"),v=n("QUs2"),M=n("QJFE"),x=n("ofXK"),k=n("D12n"),S=n("TMV2");function P(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1,"0"),f["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"number"),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](2,1,e.dataCount))}}function w(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",42),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](3).addNewSkill()})),f["\u0275\u0275element"](1,"nb-icon",43),f["\u0275\u0275elementStart"](2,"span"),f["\u0275\u0275text"](3,"Add new"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function _(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",40),f["\u0275\u0275template"](1,w,4,0,"button",41),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pCreate?null:e.pCreate.module)("permissionAction",null==e.pCreate?null:e.pCreate.action)}}function y(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"nb-option",44),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;f["\u0275\u0275propertyInterpolate"]("value",e.name),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.title)}}function E(e,t){1&e&&f["\u0275\u0275element"](0,"tr",45)}function T(e,t){if(1&e&&f["\u0275\u0275element"](0,"tr",46),2&e){const e=t.$implicit;f["\u0275\u0275property"]("clickToToggle",e.hasChildren())("ngClass",e.expanded?"expanded":"")}}function I(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"th",47),f["\u0275\u0275text"](1,"Skill Name"),f["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",52),f["\u0275\u0275text"](1,"New"),f["\u0275\u0275elementEnd"]())}const N=function(e){return{"highlight-name":e}};function R(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"td",48),f["\u0275\u0275element"](1,"nb-tree-grid-row-toggle",49),f["\u0275\u0275elementStart"](2,"span",50),f["\u0275\u0275text"](3),f["\u0275\u0275template"](4,D,2,0,"span",51),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngClass",e.expanded?"tg-expanded":"tg-collapsed")("expanded",e.expanded)("ngClass",e.hasChildren()?"":"d-none"),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngClass",f["\u0275\u0275pureFunction1"](6,N,n.isCurrentUser&&(e.data.fromCourse||e.data.fromReskill))),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"]("",e.data.skillName," "),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",n.isCurrentUser&&e.data.fromReskill)}}function V(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"th",47),f["\u0275\u0275text"](1,"Level"),f["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"td",48),f["\u0275\u0275elementStart"](1,"div"),f["\u0275\u0275elementStart"](2,"span",53),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;f["\u0275\u0275advance"](2),f["\u0275\u0275propertyInterpolate"]("title",e.data.proficiencyName),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.data.proficiencyName," ")}}function G(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"th",54),f["\u0275\u0275text"](1,"Endorsement"),f["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"a",61),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](e);const t=f["\u0275\u0275nextContext"]().$implicit;return f["\u0275\u0275nextContext"](2).endor(t.data.id)})),f["\u0275\u0275element"](1,"img",62),f["\u0275\u0275elementEnd"]()}}function F(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"a",61),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](e);const t=f["\u0275\u0275nextContext"]().$implicit;return f["\u0275\u0275nextContext"](2).unendor(t.data.id)})),f["\u0275\u0275element"](1,"img",63),f["\u0275\u0275elementEnd"]()}}function j(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"a",64),f["\u0275\u0275element"](1,"img",63),f["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"td",55),f["\u0275\u0275elementStart"](1,"div",56),f["\u0275\u0275elementStart"](2,"div",57),f["\u0275\u0275elementStart"](3,"span",58),f["\u0275\u0275text"](4),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](5,A,2,0,"a",59),f["\u0275\u0275template"](6,F,2,0,"a",59),f["\u0275\u0275template"](7,j,2,0,"a",60),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](e.data.endorserCount),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",(null==n.resumeProfile?null:n.resumeProfile.id)!=(null==n.currentUserEndor?null:n.currentUserEndor.id)&&!e.data.isCurrentUserEndorsed&&!e.hasChildren()),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",(null==n.resumeProfile?null:n.resumeProfile.id)!=(null==n.currentUserEndor?null:n.currentUserEndor.id)&&e.data.isCurrentUserEndorsed&&!e.hasChildren()),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",(null==n.resumeProfile?null:n.resumeProfile.id)==(null==n.currentUserEndor?null:n.currentUserEndor.id)&&!e.hasChildren())}}function H(e,t){1&e&&f["\u0275\u0275element"](0,"th",65)}function B(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"a",71),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](e);const t=f["\u0275\u0275nextContext"](2).$implicit,n=f["\u0275\u0275nextContext"](2),i=f["\u0275\u0275reference"](4);return n.editSkill(i,t.data.skillId)})),f["\u0275\u0275namespaceSVG"](),f["\u0275\u0275elementStart"](1,"svg",72),f["\u0275\u0275elementStart"](2,"defs"),f["\u0275\u0275elementStart"](3,"style"),f["\u0275\u0275text"](4," .cls-1 { fill: transparent; stroke: #8f9bb3; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2px } "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](5,"g",73),f["\u0275\u0275element"](6,"path",74),f["\u0275\u0275element"](7,"path",75),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function z(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"a",76),f["\u0275\u0275listener"]("click",(function(){f["\u0275\u0275restoreView"](e);const t=f["\u0275\u0275nextContext"](2).$implicit;return f["\u0275\u0275nextContext"](2).showConfirmDelete(t.data.id)})),f["\u0275\u0275namespaceSVG"](),f["\u0275\u0275elementStart"](1,"svg",77),f["\u0275\u0275elementStart"](2,"g",78),f["\u0275\u0275element"](3,"path",79),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function $(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",68),f["\u0275\u0275template"](1,B,8,0,"a",69),f["\u0275\u0275template"](2,z,4,0,"a",70),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](3);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pUpdate?null:e.pUpdate.module)("permissionAction",null==e.pUpdate?null:e.pUpdate.action),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pDelete?null:e.pDelete.module)("permissionAction",null==e.pDelete?null:e.pDelete.action)}}function q(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"td",66),f["\u0275\u0275template"](1,$,3,6,"div",67),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!n.isViewMode&&!e.hasChildren())}}function J(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",4),f["\u0275\u0275elementStart"](1,"div",5),f["\u0275\u0275elementStart"](2,"div",6),f["\u0275\u0275elementStart"](3,"div",7),f["\u0275\u0275text"](4," Additional Skills ("),f["\u0275\u0275template"](5,P,2,0,"span",8),f["\u0275\u0275template"](6,O,3,3,"span",8),f["\u0275\u0275text"](7,") "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](8,_,2,3,"div",9),f["\u0275\u0275elementStart"](9,"div",10),f["\u0275\u0275elementStart"](10,"a",11),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().switchMode("list")})),f["\u0275\u0275element"](11,"i",12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"a",13),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().switchMode("tree")})),f["\u0275\u0275element"](13,"i",14),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"div"),f["\u0275\u0275elementStart"](15,"nb-select",15),f["\u0275\u0275listener"]("ngModelChange",(function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().sortSelected=t}))("ngModelChange",(function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().sortSelectChanged()})),f["\u0275\u0275elementStart"](16,"nb-option",16),f["\u0275\u0275text"](17,"Default"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](18,y,2,2,"nb-option",17),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](19,"div",18),f["\u0275\u0275elementStart"](20,"div",19),f["\u0275\u0275elementStart"](21,"input",20),f["\u0275\u0275listener"]("ngModelChange",(function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().keyword=t}))("keypress",(function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().enterSearch(t)})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](22,"div",21),f["\u0275\u0275elementStart"](23,"button",22),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().applFilter()})),f["\u0275\u0275element"](24,"nb-icon",23),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](25,"div",24),f["\u0275\u0275elementStart"](26,"div",25),f["\u0275\u0275elementStart"](27,"div",26),f["\u0275\u0275elementStart"](28,"table",27),f["\u0275\u0275template"](29,E,1,0,"tr",28),f["\u0275\u0275template"](30,T,1,2,"tr",29),f["\u0275\u0275elementContainerStart"](31,30),f["\u0275\u0275template"](32,I,2,0,"th",31),f["\u0275\u0275template"](33,R,5,8,"td",32),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](34,33),f["\u0275\u0275template"](35,V,2,0,"th",31),f["\u0275\u0275template"](36,U,4,2,"td",32),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](37,34),f["\u0275\u0275template"](38,G,2,0,"th",35),f["\u0275\u0275template"](39,L,8,4,"td",36),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](40,37),f["\u0275\u0275template"](41,H,1,0,"th",38),f["\u0275\u0275template"](42,q,2,1,"td",39),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("ngIf",!e.dataCount),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.dataCount),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",!e.isViewMode),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngClass","tree"!=e.viewMode?"btn-primary":"btn-secondary"),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngClass","tree"==e.viewMode?"btn-primary":"btn-secondary"),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngModel",e.sortSelected),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngForOf",e.sortConfig),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngModel",e.keyword),f["\u0275\u0275advance"](7),f["\u0275\u0275property"]("nbTreeGrid",e.data),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("nbTreeGridHeaderRowDef",e.allColumns),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("nbTreeGridRowDefColumns",e.allColumns)}}function Y(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"form",80),f["\u0275\u0275listener"]("ngSubmit",(function(){f["\u0275\u0275restoreView"](e);const t=f["\u0275\u0275nextContext"]();return t.isSubmit=!0,t.mainForm.valid&&t.saveForm(t.mainForm.value)})),f["\u0275\u0275elementStart"](1,"div",81),f["\u0275\u0275elementStart"](2,"h4",82),f["\u0275\u0275text"](3,"Update Additional Skills"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"button",83),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().modalRef.hide()})),f["\u0275\u0275elementStart"](5,"span",84),f["\u0275\u0275text"](6,"\xd7"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"div",85),f["\u0275\u0275elementStart"](8,"div",86),f["\u0275\u0275elementStart"](9,"label"),f["\u0275\u0275text"](10,"Name Of Skill"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](11,"input",87),f["\u0275\u0275element"](12,"input",88),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](13,"aka-single-select",89),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"div",90),f["\u0275\u0275elementStart"](15,"button",91),f["\u0275\u0275listener"]("click",(function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().modalRef.hide()})),f["\u0275\u0275text"](16,"Cancel"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](17,"button",92),f["\u0275\u0275text"](18,"Done"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("formGroup",e.mainForm),f["\u0275\u0275advance"](13),f["\u0275\u0275property"]("iData",e.levels)("fc",e.mainForm.controls.level)("isSubmitted",e.isSubmit)("label","Level")("tabIndex",1)("isRequired",!0)("autoFocus",!0)}}let X=(()=>{class e extends h.a{constructor(e,t,n,i,o,a){super(n),this.layoutService=e,this.crudService=t,this.toastrService=n,this.router=i,this.modalService=o,this.messageBusService=a,this.viewMode="tree",this.allColumns=["skillName","proficiencyName","endorserCount","action"],this.keyword="",this.data=[],this.dataSortDefault=[],this.sortConfig=[],this.sortSelected="",this.levels=[{id:1,value:"1 - Moderate"},{id:2,value:"2 - Good"},{id:3,value:"3 - Excellent"}],this.dataListing=[],this.confirmMessage=r.a.Messages.ConfirmDelete,this.isSubmit=!1,this.isViewMode=!0,this.isCurrentUser=!1,this.ngbModalOptions={backdrop:"static",keyboard:!1},this.keywordStored="",this._subscription=new u.a,this.layoutService.changeBreadcrumb({breadcrumb:"Profile",pageTitle:"Additional Skills"});const l=this.layoutService.onChangeResumeMode().subscribe(e=>{this.isViewMode=e;const t=this.layoutService.getUserProfile();this.resumeProfile.account==t.account&&(this.isViewMode=!1)});this._subscription.add(l)}ngOnInit(){this.resumeProfile=this.layoutService.getResumeProfile(),this.loadData(),this.loadTotalItem(),this.currentUserEndor=this.layoutService.getUserProfile();const e=this.layoutService.getUserProfile();this.isViewMode=this.layoutService.resumeViewMode,this.resumeProfile.account==e.account&&(this.isViewMode=!1,this.isCurrentUser=!0);const t=this.messageBusService.hookMessageChannel(m.o.permissionChannel,m.p.loadUserRole).subscribe(e=>{this.caculatePermission(e,"Non-Technical Skill")});this._subscription.add(t)}ngOnDestroy(){this._subscription&&!this._subscription.closed&&(this._subscription.unsubscribe(),this.messageBusService.deleteChannelMessage(m.o.permissionChannel,m.p.loadUserRole))}switchMode(e){this.viewMode=e,this.loadData()}loadData(){var e,t;this.sortConfig=[{field:["skillName"],name:"skillName",title:"Name",type:"asc"},{field:["proficiency"],name:"proficiency",title:"Level",type:"desc"},{field:["endorserCount"],name:"endorserCount",title:"Endorsement",type:"desc"},{field:["createdOn"],name:"createdOn",title:"Date Added",type:"desc"}];let n=r.a.ApiUrl.NonTechnicalSkillListView+"?userId="+(null===(e=this.resumeProfile)||void 0===e?void 0:e.id);"tree"==this.viewMode&&(n=r.a.ApiUrl.NonTechnicalSkillTreeView+"?userId="+(null===(t=this.resumeProfile)||void 0===t?void 0:t.id),this.sortConfig=[{field:["skillName"],name:"skillName",title:"Name",type:"asc"}]),this.crudService.get(n).subscribe(e=>{e&&e.data&&(this.data="list"==this.viewMode?this.transformDataListView(e.data):this.transformDataTreeView(e.data),this.dataListing=e.data,this.dataSortDefault=e.data)},e=>{this.handleApiResponseError(e)})}loadTotalItem(){var e;this.crudService.get(r.a.ApiUrl.NonTechnicalSkillTotalItem+"?userId="+(null===(e=this.resumeProfile)||void 0===e?void 0:e.id)).subscribe(e=>{e&&e.data&&(this.dataCount=e.data)},e=>{this.handleApiResponseError(e)})}applFilter(){this.keywordStored=this.keyword?this.keyword.trim().toLowerCase():"",this.sortSelectChanged()}sortSelectChanged(){var e,t;let n=JSON.parse(JSON.stringify(this.dataListing));const i=a.find(this.sortConfig,e=>e.field==this.sortSelected),r=null===(e=i)||void 0===e?void 0:e.field,o=null===(t=i)||void 0===t?void 0:t.type;if("list"==this.viewMode)n=""==this.sortSelected?this.dataSortDefault:i?a.orderBy(n,r,[o]):n,n=a.filter(n,e=>{var t;return-1!=(null===(t=e.skillName)||void 0===t?void 0:t.toLowerCase().indexOf(this.keywordStored))});else{const e=[];""==this.keywordStored?n=this.dataSortDefault:(a.each(n,t=>{var n;if((null===(n=t.skillName)||void 0===n?void 0:n.toLowerCase().indexOf(this.keywordStored))>-1)e.push(t);else{const n=[];if(a.each(t.skillCategories,e=>{var t;(null===(t=e.skillName)||void 0===t?void 0:t.toLowerCase().indexOf(this.keywordStored))>-1&&n.push(e)}),n.length>0){let i=t;i.skillCategories=n,e.push(i)}}}),n=e)}this.data="list"==this.viewMode?this.transformDataListView(n):this.transformDataTreeView(n),this.dataListing=n}transformDataListView(e){let t=this.applyFilter(e);return t=this.applySort(t),a.map(t,e=>({data:{id:e.id,skillId:e.skillId,skillName:e.skillName,proficiencyName:e.proficiencyName,proficiency:e.proficiency,experience:e.experience,endorserCount:e.endorserCount,isCurrentUserEndorsed:e.isCurrentUserEndorsed,fromReskill:e.fromReskill,modifiedOn:e.modifiedOn,userUpdated:e.userUpdated}}))}transformDataTreeView(e){const t=[];let n=this.applyFilter(e);return n=this.applySort(n),a.each(n,e=>{const n=[];a.each(e.skillCategories,e=>{n.push({data:{id:e.id,skillId:e.skillId,skillName:e.skillName,proficiencyName:e.proficiencyName,proficiency:e.proficiency,experience:e.experience,endorserCount:e.endorserCount,isCurrentUserEndorsed:e.isCurrentUserEndorsed,fromReskill:e.fromReskill,modifiedOn:e.modifiedOn,fromCourse:e.fromCourse,lastEvaluationUser:e.lastEvaluationUser,lastEvaluatedOn:e.lastEvaluatedOn,userUpdated:e.userUpdated,level:2},children:[]})}),t.push({data:{id:e.id,skillId:e.skillId,skillName:e.skillName,proficiencyName:e.proficiencyName,proficiency:e.proficiency,experience:e.experience,endorserCount:e.endorserCount,isCurrentUserEndorsed:e.isCurrentUserEndorsed,fromReskill:e.fromReskill,modifiedOn:e.modifiedOn,fromCourse:e.fromCourse,lastEvaluationUser:e.lastEvaluationUser,lastEvaluatedOn:e.lastEvaluatedOn,level:1},children:n})}),t}applyFilter(e){return e}applySort(e){return e}endor(e){const t={resumeSkillId:e};this.crudService.post(r.a.ApiUrl.NonTechnicalSkillEndorse,t).subscribe(e=>{this.handleApiResponseSuccessCore(e,r.a.Messages.EndorseSuccess,r.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),a.each(this.data,"tree"==this.viewMode?e=>{a.each(e.children,e=>{e.data.id===t.resumeSkillId&&(e.data.endorserCount++,e.data.isCurrentUserEndorsed=!0)})}:e=>{e.data.id===t.resumeSkillId&&(e.data.endorserCount++,e.data.isCurrentUserEndorsed=!0)})})},e=>{this.handleApiResponseError(e)})}unendor(e){const t={resumeSkillId:e};this.crudService.post(r.a.ApiUrl.NonTechnicalSkillUnEndorse,t).subscribe(e=>{this.handleApiResponseSuccessCore(e,r.a.Messages.UnEndorseSuccess,r.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),a.each(this.data,"tree"==this.viewMode?e=>{a.each(e.children,e=>{e.data.id===t.resumeSkillId&&(e.data.endorserCount--,e.data.isCurrentUserEndorsed=!1)})}:e=>{e.data.skillId===t.resumeSkillId&&(e.data.endorserCount--,e.data.isCurrentUserEndorsed=!1)})})},e=>{this.handleApiResponseError(e)})}showConfirmDelete(e){this.selectedId=e,s.a.fire(r.V).then(e=>{e.value&&this.delete()})}delete(){this.selectedId&&this.crudService.delete(r.a.ApiUrl.NonTechnicalSkillDelete,this.selectedId).subscribe(e=>{this.handleApiResponseSuccessCore(e,r.a.Messages.RemoveSuccess,r.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),this.messageBusService.addMessage(m.o.profileChannel,m.p.updateResume),this.loadData(),this.loadTotalItem()})},e=>{this.handleApiResponseError(e)})}createForm(){this.isSubmit=!1,this.mainForm=new c.FormGroup({skillId:new c.FormControl(""),skill:new c.FormControl(""),level:new c.FormControl("",c.Validators.required)})}openModal(e){this.createForm(),this.modalRef=this.modalService.show(e,this.ngbModalOptions)}setFormValue(e){this.mainForm.controls.skillId.setValue(e.skillId),this.mainForm.controls.skill.setValue(e.skillName),this.mainForm.controls.level.setValue(e.proficiency)}editSkill(e,t){var n;t&&this.crudService.getByIdAndUser(r.a.ApiUrl.NonTechnicalSkillGetBySKill,t,null===(n=this.resumeProfile)||void 0===n?void 0:n.id).subscribe(t=>{t&&t.data&&(this.openModal(e),this.setFormValue(t.data))},e=>{this.handleApiResponseError(e)})}saveForm(e){var t;const n={resumeId:null===(t=this.resumeProfile)||void 0===t?void 0:t.resumeId,skillId:e.skillId,proficiency:Number(e.level)};this.crudService.post(r.a.ApiUrl.NonTechnicalSkillSave,n).subscribe(e=>{this.handleApiResponseSuccessCore(e,r.a.Messages.SaveSuccess,r.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),this.messageBusService.addMessage(m.o.profileChannel,m.p.updateResume),a.each(this.data,"tree"==this.viewMode?e=>{a.each(e.children,e=>{var t;e.data.skillId===n.skillId&&(e.data.proficiency=n.proficiency,e.data.proficiencyName=null===(t=a.find(this.levels,e=>e.id===n.proficiency))||void 0===t?void 0:t.value)})}:e=>{var t;e.data.skillId===n.skillId&&(e.data.proficiency=n.proficiency,e.data.proficiencyName=null===(t=a.find(this.levels,e=>e.id===n.proficiency))||void 0===t?void 0:t.value)})})},e=>{this.handleApiResponseError(e)})}addNewSkill(){-1!=location.href.indexOf("?source=profile")?this.router.navigate([location.pathname+"/add-new"]):this.router.navigate([this.router.url+"/add-new"])}enterSearch(e){"Enter"===e.code&&this.applFilter()}checkIsNewUpdate(e){if(e){const t=new Date(e);return((new Date).getTime()-t.getTime())/864e5<1}return!1}onDisplayTitleVerify(e){return e.lastEvaluationUser?"Evaluated by "+e.lastEvaluationUser+" on "+g(e.lastEvaluatedOn).format("DD/MM/YYYY"):""}onDisplayTitleNew(e){return e.fromCourse?"Achieved via Learning Course":e.lastEvaluationUser?"Evaluated by "+e.lastEvaluationUser+" on "+g(e.lastEvaluatedOn).format("DD/MM/YYYY"):""}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](i.b),f["\u0275\u0275directiveInject"](o.c),f["\u0275\u0275directiveInject"](b.jb),f["\u0275\u0275directiveInject"](C.c),f["\u0275\u0275directiveInject"](d.b),f["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["aka-tab-non-technical-skills"]],features:[f["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:6,consts:[["class","non-technical-skills-page",4,"permission","permissionModule","permissionAction"],["title","Confirm","icon","question",3,"text","showCancelButton","focusCancel","confirm"],["deleteSwal",""],["formTemplate",""],[1,"non-technical-skills-page"],[1,"aka-card"],[1,"aka-card-header"],[1,"aka-card-title"],[4,"ngIf"],["class","aka-card-header-button",4,"ngIf"],[1,"aka-card-header-sort"],["href","javascript:void(0)","nbTooltip","Flat View",1,"btn",3,"ngClass","click"],[1,"fa","fa-align-left","fa-fw"],["href","javascript:void(0)","nbTooltip","Group View",1,"btn",3,"ngClass","click"],[1,"fa","fa-th","fa-fw"],["size","medium","placeholder","Default","shape","round",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"aka-card-header-search"],[1,"input-group"],["placeholder","Skill Name",1,"form-control",3,"ngModel","ngModelChange","keypress"],[1,"input-append"],["type","button",1,"btn",3,"click"],["icon","search-outline"],[1,"aka-card-body","p-0"],[1,"non-technical-skills-content"],[1,"table-responsive"],["equalColumnsWidth","",3,"nbTreeGrid"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",3,"clickToToggle","ngClass",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],["nbTreeGridColumnDef","skillName"],["nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridColumnDef","proficiencyName"],["nbTreeGridColumnDef","endorserCount"],["style","width:100px","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["style","width:100px","nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridColumnDef","action"],["style","width:80px","nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["style","width:80px","nbTreeGridCell","",4,"nbTreeGridCellDef"],[1,"aka-card-header-button"],["type","button","class","btn-add-new",3,"click",4,"permission","permissionModule","permissionAction"],["type","button",1,"btn-add-new",3,"click"],["icon","plus-outline"],[3,"value"],["nbTreeGridHeaderRow",""],["nbTreeGridRow","",3,"clickToToggle","ngClass"],["nbTreeGridHeaderCell",""],["nbTreeGridCell",""],[3,"ngClass","expanded"],[3,"ngClass"],["title","Achieved via Learning Course",4,"ngIf"],["title","Achieved via Learning Course"],[1,"level-title",3,"title"],["nbTreeGridHeaderCell","",2,"width","100px"],["nbTreeGridCell","",2,"width","100px"],[1,"td-endorsement"],["role","group","aria-label","Basic example",1,"btn-group","endorsement-column",2,"align-items","center"],["disabled","",1,"mr-2","pr-2",2,"margin-top","6px"],["style","cursor: pointer;","href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)","style","cursor: default;",4,"ngIf"],["href","javascript:void(0)",2,"cursor","pointer",3,"click"],["src","/assets/images/unlike-2.svg"],["src","/assets/images/like-2.svg"],["href","javascript:void(0)",2,"cursor","default"],["nbTreeGridHeaderCell","",2,"width","80px"],["nbTreeGridCell","",2,"width","80px"],["class","action-column action-column-full",4,"ngIf"],[1,"action-column","action-column-full"],["href","javascript:void(0)","class","btn-edit-v2",3,"click",4,"permission","permissionModule","permissionAction"],["href","javascript:void(0)","class","btn-remove-v2",3,"click",4,"permission","permissionModule","permissionAction"],["href","javascript:void(0)",1,"btn-edit-v2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 20 19.121"],["id","edit-3","transform","translate(1 1)"],["id","Path_30697","d","M12 20h9","data-name","Path 30697","transform","translate(-3 -2.879)",1,"cls-1"],["id","Path_30698","d","M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4z","data-name","Path 30698","transform","translate(-3 -2.879)",1,"cls-1"],["href","javascript:void(0)",1,"btn-remove-v2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 18 19.875"],["id","delete_-trash_-dust-bin_-remove_-recycle-bin","data-name","delete,-trash,-dust-bin,-remove,-recycle-bin","transform","translate(-2.4 -1.4)"],["id","Path_30523","fill","#8f9bb3","d","M19.837 4.213h-5.531V2.9a1.5 1.5 0 0 0-1.5-1.5H9.994a1.5 1.5 0 0 0-1.5 1.5v1.313H2.963a.563.563 0 1 0 0 1.125h1.312V17.9a3.379 3.379 0 0 0 3.375 3.375h7.5a3.379 3.379 0 0 0 3.375-3.375V5.338h1.313a.563.563 0 0 0 0-1.125zM9.619 2.9a.375.375 0 0 1 .375-.375h2.813a.375.375 0 0 1 .375.375v1.313H9.619V2.9zm7.781 15a2.253 2.253 0 0 1-2.25 2.25h-7.5A2.253 2.253 0 0 1 5.4 17.9V5.338h12V17.9zm-8.906-.937V8.525a.563.563 0 0 1 1.125 0v8.438a.563.563 0 0 1-1.125 0zm4.688 0V8.525a.563.563 0 1 1 1.125 0v8.438a.563.563 0 0 1-1.125 0z","data-name","Path 30523"],[1,"aka-form",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","btn-light","close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["formControlName","skill","readonly","",1,"form-control"],["type","hidden","formControlName","skillId"],["formControlName","level",3,"iData","fc","isSubmitted","label","tabIndex","isRequired","autoFocus"],[1,"modal-footer"],["type","button","tabindex","1",1,"btn","btn-outline-primary","mr-2",3,"click"],["type","submit","tabindex","1",1,"btn","btn-primary"]],template:function(e,t){1&e&&(f["\u0275\u0275template"](0,J,43,11,"div",0),f["\u0275\u0275elementStart"](1,"swal",1,2),f["\u0275\u0275listener"]("confirm",(function(){return t.delete()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](3,Y,19,8,"ng-template",null,3,f["\u0275\u0275templateRefExtractor"])),2&e&&(f["\u0275\u0275property"]("permission",t.userRole)("permissionModule",null==t.pView?null:t.pView.module)("permissionAction",null==t.pView?null:t.pView.action),f["\u0275\u0275advance"](1),f["\u0275\u0275propertyInterpolate"]("text",t.confirmMessage),f["\u0275\u0275property"]("showCancelButton",!0)("focusCancel",!0))},directives:[v.a,M.a,x.NgIf,b.kb,x.NgClass,b.X,c.NgControlStatus,c.NgModel,b.S,x.NgForOf,c.DefaultValueAccessor,b.B,b.pb,b.tb,b.wb,b.ob,b.qb,b.mb,b.sb,b.vb,b.rb,b.nb,b.xb,c["\u0275angular_packages_forms_forms_y"],c.NgControlStatusGroup,c.FormGroupDirective,c.FormControlName,k.a,S.a],pipes:[x.DecimalPipe],styles:['.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-search[_ngcontent-%COMP%]{margin-left:0}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:16px;font-size:14px;color:#273251;line-height:1;padding:0 5px;height:30px;border:1px solid #e4e9f2;margin-right:16px;max-width:100px}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:24px;height:24px;padding-left:3px;padding-right:3px;display:flex;justify-content:center;align-items:center;margin-right:16px;text-decoration:none}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:13px;color:#8f9bb3}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{width:13px;height:13px}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#edf1f7;border-color:#e4e9f2;color:#8f9bb3}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#274bdb;border-color:#274bdb;color:#fff}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:hover{background-color:#274bdb}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover   .fa[_ngcontent-%COMP%]{color:#fff}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#274bdb;border-color:#274bdb;color:#fff}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#274bdb}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#fff}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]{margin-bottom:0}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-family:Roboto,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;border-left:1px solid transparent}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-family:Roboto,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;border-top:0;border-bottom:0;text-transform:capitalize;font-size:14px;font-weight:600;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#101426;padding:9px 15px;background-color:#f2f6ff}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#273251;padding:8px 16px;border:none;border-top:1px solid #e4e9f2;vertical-align:middle;box-sizing:border-box;height:48px}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .level-title[_ngcontent-%COMP%]{color:#2e3a59}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .level-wrap[_ngcontent-%COMP%]{max-width:180px;width:100%;height:6px;border-radius:3px;background-color:#e4e9f2}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .level-wrap[_ngcontent-%COMP%]   .level-percent[_ngcontent-%COMP%]{margin-top:3px;background-color:#274bdb;height:6px;border-radius:3px}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .endorsement-column[_ngcontent-%COMP%]{white-space:nowrap}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .endorsement-column[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1rem;height:32px;line-height:32px;background-color:#00b383;border-color:#00b383;padding:0 12px;color:#fff;box-shadow:none;outline:none;display:flex;align-items:center;flex-wrap:nowrap;border-radius:4px!important}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .endorsement-column[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:8px}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .action-column[_ngcontent-%COMP%]{width:0;overflow:hidden;display:flex;white-space:nowrap;transition:all .3s ease-in-out}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .td-endorsement[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f2f6ff;border-color:#274bdb}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover > td[_ngcontent-%COMP%] > .action-column[_ngcontent-%COMP%]{width:auto;overflow:initial}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr.expanded[_ngcontent-%COMP%]:first-child + tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > .action-column[_ngcontent-%COMP%], .non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child > td[_ngcontent-%COMP%] > .action-column[_ngcontent-%COMP%]{width:auto!important;overflow:initial!important}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr.expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{position:relative}.non-technical-skills-content[_ngcontent-%COMP%]   table.nb-tree-grid[_ngcontent-%COMP%]   tr.expanded[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{position:absolute;content:"";top:0;left:0;width:2px;height:100%;background-color:#274bdb}[_nghost-%COMP%]     .non-technical-skills-content table.nb-tree-grid tr.expanded td:first-child nb-tree-grid-row-toggle nb-icon{background-color:#36f!important;color:#fff!important}@media (max-width:576px){.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header[_ngcontent-%COMP%]{flex-wrap:wrap;align-items:center;height:auto}.non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header[_ngcontent-%COMP%]   .aka-card-header-search[_ngcontent-%COMP%], .non-technical-skills-page[_ngcontent-%COMP%]   .aka-card-header[_ngcontent-%COMP%]   .aka-card-header-sort[_ngcontent-%COMP%]{width:100%;margin-top:16px}}.aka-invisible[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]     nb-select{width:auto!important}[_nghost-%COMP%]     nb-select.size-medium .select-button{line-height:18px}.highlight[_ngcontent-%COMP%]   .square-star[_ngcontent-%COMP%]{margin-right:3px}.highlight-name[_ngcontent-%COMP%]{position:relative}.highlight-name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:33px;height:14px;padding:2px 8px;border-radius:9px;background-color:#00b383;font-size:8px!important;text-align:center;color:#fff;position:absolute;text-transform:uppercase;cursor:pointer;margin:2px 268px 6px 8px}.skill-name[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#00b383;margin-left:3px}']}),e})()},msgN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n("VVTm");var i=n("i2L+"),r=n("aceb"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[i.a,r.ub]]}),e})()}}]);