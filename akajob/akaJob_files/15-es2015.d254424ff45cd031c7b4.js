(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+WCe":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var o=n("K3ix"),i=n("3Pt+"),a=n("vC38"),r=n("J9tS"),s=n("JuUv"),l=n("Hwp3"),c=n("mlVJ"),d=n("quSY"),m=n("FRs0"),p=n("fXoL"),u=n("aceb"),h=n("ofXK"),g=n("QUs2"),f=n("WlJO"),b=n("63HT");function v(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"a",8),p["\u0275\u0275listener"]("click",(function(){p["\u0275\u0275restoreView"](e);const t=p["\u0275\u0275nextContext"](2),n=p["\u0275\u0275reference"](7);return t.editModal(n)})),p["\u0275\u0275namespaceSVG"](),p["\u0275\u0275elementStart"](1,"svg",9),p["\u0275\u0275elementStart"](2,"defs"),p["\u0275\u0275elementStart"](3,"style"),p["\u0275\u0275text"](4," .cls-1 { fill: transparent; stroke: #8f9bb3; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2px } "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"g",10),p["\u0275\u0275element"](6,"path",11),p["\u0275\u0275element"](7,"path",12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}}function C(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",6),p["\u0275\u0275template"](1,v,8,0,"a",7),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pUpdate?null:e.pUpdate.module)("permissionAction",null==e.pUpdate?null:e.pUpdate.action)}}function x(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",13),p["\u0275\u0275elementStart"](1,"div",14),p["\u0275\u0275elementContainerStart"](2),p["\u0275\u0275elementStart"](3,"div",15),p["\u0275\u0275elementStart"](4,"div",16),p["\u0275\u0275text"](5," Highest level to work with "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"div",17),p["\u0275\u0275text"](7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"div",15),p["\u0275\u0275elementStart"](9,"div",16),p["\u0275\u0275text"](10," Largest group to present "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](11,"div",17),p["\u0275\u0275text"](12),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("ngClass","Manager"==e.viewMode?"manager-vm":""),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass","Manager"==e.viewMode?"row":""),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngClass","Manager"==e.viewMode?"col-lg-6":""),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"](" ",""==e.skill[0].highestLevelToWorkWith?"N/A":e.skill[0].highestLevelToWorkWith," "),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngClass","Manager"==e.viewMode?"col-lg-6":""),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"](" ",e.skill[0].largestGroupToPresent?e.skill[0].largestGroupToPresent:"0"," attendees ")}}function S(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"form",18),p["\u0275\u0275listener"]("ngSubmit",(function(){p["\u0275\u0275restoreView"](e);const t=p["\u0275\u0275nextContext"]();return t.isSubmit=!0,t.mainForm.valid&&t.saveForm(t.mainForm.value)})),p["\u0275\u0275elementStart"](1,"div",19),p["\u0275\u0275elementStart"](2,"h4",20),p["\u0275\u0275text"](3,"Update Communication Skill"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](4,"button",21),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().modalRef.hide()})),p["\u0275\u0275elementStart"](5,"span",22),p["\u0275\u0275text"](6,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"div",23),p["\u0275\u0275element"](8,"aka-input",24),p["\u0275\u0275elementStart"](9,"div",25),p["\u0275\u0275elementStart"](10,"label"),p["\u0275\u0275text"](11,"Largest Group To Present"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](12,"aka-input-number-with-label",26),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](13,"div",27),p["\u0275\u0275elementStart"](14,"button",28),p["\u0275\u0275listener"]("click",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().modalRef.hide()})),p["\u0275\u0275text"](15,"Cancel"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"button",29),p["\u0275\u0275text"](17,"Done"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("formGroup",e.mainForm),p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("fc",e.mainForm.controls.highestLevelToWorkWith)("isSubmitted",e.isSubmit)("label","Highest Level To Work With")("tabIndex",1),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("fc",e.mainForm.controls.largestGroupToPresent)("isSubmitted",e.isSubmit)("appendLabel","attendees")("tabIndex",1)}}let M=(()=>{class e extends m.a{constructor(e,t,n,o,i){super(o),this.layoutService=e,this.modalService=t,this.crudService=n,this.toastrService=o,this.messageBusService=i,this.isViewMode=!1,this.viewMode=null,this.isSubmit=!1,this.skill={highestLevelToWorkWith:"",largestGroupToPresent:0},this.ngbModalOptions={backdrop:"static",keyboard:!1},this._subscription=new d.a}ngOnInit(){this.resumeProfile=this.layoutService.getResumeProfile();const e=this.messageBusService.hookMessageChannel(c.o.profileChannel,c.p.loadProfile).subscribe(e=>{this.resumeProfile=e,this.loadData()});this._subscription.add(e);const t=this.messageBusService.hookMessageChannel(c.o.permissionChannel,c.p.loadUserRole).subscribe(e=>{this.caculatePermission(e,"Communication Skill")});this._subscription.add(t)}ngOnDestroy(){this._subscription&&!this._subscription.closed&&(this._subscription.unsubscribe(),this.messageBusService.deleteChannelMessage(c.o.profileChannel,c.p.loadProfile),this.messageBusService.deleteChannelMessage(c.o.permissionChannel,c.p.loadUserRole))}createForm(){this.isSubmit=!1,this.mainForm=new i.FormGroup({highestLevelToWorkWith:new i.FormControl(0),largestGroupToPresent:new i.FormControl(0)})}editModal(e){this.skill&&(this.createForm(),this.skill&&this.skill[0]?(this.mainForm.controls.highestLevelToWorkWith.setValue(this.skill[0].highestLevelToWorkWith),this.mainForm.controls.largestGroupToPresent.setValue(this.skill[0].largestGroupToPresent||0)):(this.mainForm.controls.highestLevelToWorkWith.setValue(""),this.mainForm.controls.largestGroupToPresent.setValue(0)),this.modalRef=this.modalService.show(e,this.ngbModalOptions))}loadData(){var e;this.crudService.get(s.a.ApiUrl.GetCommunicationSkill+"?userId="+(null===(e=this.resumeProfile)||void 0===e?void 0:e.id)).subscribe(e=>{e&&e.success&&(this.skill=e.data)},e=>{this.handleApiResponseError(e)})}saveForm(e){var t;const n={id:this.skill&&this.skill.length>0?this.skill[0].id:null,resumeId:null===(t=this.resumeProfile)||void 0===t?void 0:t.resumeId,highestLevelToWorkWith:e.highestLevelToWorkWith,largestGroupToPresent:e.largestGroupToPresent?Number(e.largestGroupToPresent):0};this.skill&&this.skill[0]?this.crudService.putWithoutId(s.a.ApiUrl.UpdateCommunicationSkill,n).subscribe(e=>{this.handleApiResponseSuccessCore(e,s.a.Messages.SaveSuccess,s.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),this.loadData()})},e=>{this.handleApiResponseError(e)}):this.crudService.post(s.a.ApiUrl.CreateCommunicationSkill,n).subscribe(e=>{this.handleApiResponseSuccessCore(e,s.a.Messages.SaveSuccess,s.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),this.loadData()})},e=>{this.handleApiResponseError(e)})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](a.b),p["\u0275\u0275directiveInject"](o.b),p["\u0275\u0275directiveInject"](r.c),p["\u0275\u0275directiveInject"](u.jb),p["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["aka-communication-skill"]],inputs:{isViewMode:"isViewMode",viewMode:"viewMode"},features:[p["\u0275\u0275InheritDefinitionFeature"]],decls:8,vars:2,consts:[[1,"aka-card"],[1,"aka-card-header"],[1,"aka-card-title"],["class","aka-card-header-more",4,"ngIf"],["class","aka-card-body",3,"ngClass",4,"ngIf"],["formTemplate",""],[1,"aka-card-header-more"],["href","javascript:void(0)","class","btn-edit-v2","nbTooltip","Edit","nbTooltipPlacement","top","nbButton","","status","basic",3,"click",4,"permission","permissionModule","permissionAction"],["href","javascript:void(0)","nbTooltip","Edit","nbTooltipPlacement","top","nbButton","","status","basic",1,"btn-edit-v2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 20 19.121"],["id","edit-3","transform","translate(1 1)"],["id","Path_30697","d","M12 20h9","data-name","Path 30697","transform","translate(-3 -2.879)",1,"cls-1"],["id","Path_30698","d","M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4z","data-name","Path 30698","transform","translate(-3 -2.879)",1,"cls-1"],[1,"aka-card-body",3,"ngClass"],[1,"communication-skill-content",3,"ngClass"],[1,"communication-skill-item",3,"ngClass"],[1,"communication-skill-title"],[1,"communication-skill-value"],[1,"aka-form",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","btn-light","close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-0"],["formControlName","highestLevelToWorkWith",3,"fc","isSubmitted","label","tabIndex"],[1,"form-group"],["formControlName","largestGroupToPresent",3,"fc","isSubmitted","appendLabel","tabIndex"],[1,"modal-footer"],["type","button","tabindex","1",1,"btn","btn-outline-primary","mr-2",3,"click"],["type","submit","tabindex","1",1,"btn","btn-primary"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275text"](3," Communication Skill "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](4,C,2,3,"div",3),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](5,x,13,6,"div",4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](6,S,18,9,"ng-template",null,5,p["\u0275\u0275templateRefExtractor"])),2&e&&(p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngIf",!t.isViewMode),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.skill&&t.skill.length>0))},directives:[h.NgIf,g.a,h.NgClass,i["\u0275angular_packages_forms_forms_y"],i.NgControlStatusGroup,i.FormGroupDirective,f.a,i.NgControlStatus,i.FormControlName,b.a],styles:[".communication-skill-content[_ngcontent-%COMP%]   .communication-skill-item[_ngcontent-%COMP%]{position:relative;padding-bottom:12px;margin-bottom:12px;border-bottom:1px solid #e4e9f2;overflow-x:hidden;font-size:14px}.communication-skill-content[_ngcontent-%COMP%]   .communication-skill-item[_ngcontent-%COMP%]   .communication-skill-title[_ngcontent-%COMP%]{margin-bottom:6px;font-size:14px;font-weight:600;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#101426;text-transform:capitalize}.communication-skill-content[_ngcontent-%COMP%]   .communication-skill-item[_ngcontent-%COMP%]   .communication-skill-value[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#273251}.communication-skill-content[_ngcontent-%COMP%]   .communication-skill-item[_ngcontent-%COMP%]:last-child{border-bottom:0;margin-bottom:0;padding-bottom:0}.manager-vm[_ngcontent-%COMP%]{padding-bottom:0!important}.manager-vm[_ngcontent-%COMP%]   .communication-skill-content[_ngcontent-%COMP%]{border-bottom:1px solid #e4e9f2}.manager-vm[_ngcontent-%COMP%]   .communication-skill-content[_ngcontent-%COMP%]   .communication-skill-item[_ngcontent-%COMP%]{margin:0;border-bottom:0}.manager-vm[_ngcontent-%COMP%]   .communication-skill-content[_ngcontent-%COMP%]   .communication-skill-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.manager-vm[_ngcontent-%COMP%]   .communication-skill-content[_ngcontent-%COMP%]:last-child{border-bottom:0;margin-bottom:0}"]}),e})()},"22Vn":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("i2L+"),i=(n("+WCe"),n("fXoL"));let a=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[o.a]]}),e})()},"5JHT":function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var o=n("K3ix"),i=n("JuUv"),a=n("GAup"),r=n("3Pt+"),s=n("J9tS"),l=n("vC38"),c=n("Hwp3"),d=n("mlVJ"),m=n("quSY"),p=n("XNiG"),u=n("FRs0"),h=n("1G5W"),g=n("fXoL"),f=n("aceb"),b=n("tyNb"),v=n("ofXK"),C=n("QJFE"),x=n("QUs2"),S=n("WlJO"),M=n("TMV2"),y=n("ccEm"),w=n("Lo5C"),k=n("sDaq");const E=["deleteSwal"];function P(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",11),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2),n=g["\u0275\u0275reference"](7);return t.openModal(n)})),g["\u0275\u0275element"](1,"nb-icon",12),g["\u0275\u0275elementStart"](2,"span"),g["\u0275\u0275text"](3,"Add new"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function _(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",9),g["\u0275\u0275template"](1,P,4,0,"button",10),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pCreate?null:e.pCreate.module)("permissionAction",null==e.pCreate?null:e.pCreate.action)}}function O(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",30),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2).$implicit,n=g["\u0275\u0275nextContext"](2),o=g["\u0275\u0275reference"](7);return n.editModal(o,t.id)})),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",31),g["\u0275\u0275elementStart"](2,"defs"),g["\u0275\u0275elementStart"](3,"style"),g["\u0275\u0275text"](4," .cls-1 { fill: transparent; stroke: #8f9bb3; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2px } "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"g",32),g["\u0275\u0275element"](6,"path",33),g["\u0275\u0275element"](7,"path",34),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function I(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",35),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2).$implicit;return g["\u0275\u0275nextContext"](2).showConfirmDelete(t.id)})),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",36),g["\u0275\u0275elementStart"](2,"g",37),g["\u0275\u0275element"](3,"path",38),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function V(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",26),g["\u0275\u0275elementStart"](1,"div",27),g["\u0275\u0275template"](2,O,8,0,"a",28),g["\u0275\u0275template"](3,I,4,0,"a",29),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pUpdate?null:e.pUpdate.module)("permissionAction",null==e.pUpdate?null:e.pUpdate.action),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pDelete?null:e.pDelete.module)("permissionAction",null==e.pDelete?null:e.pDelete.action)}}function D(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",17),g["\u0275\u0275elementStart"](1,"div",18),g["\u0275\u0275elementStart"](2,"div",19),g["\u0275\u0275elementStart"](3,"div",20),g["\u0275\u0275text"](4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div",21),g["\u0275\u0275elementStart"](6,"span"),g["\u0275\u0275text"](7),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"div",22),g["\u0275\u0275elementStart"](9,"div",23),g["\u0275\u0275text"](10),g["\u0275\u0275pipe"](11,"date"),g["\u0275\u0275pipe"](12,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](13,V,4,6,"div",24),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](14,"div",25),g["\u0275\u0275pipe"](15,"replaceToBr"),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",e.name," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",e.position,""),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate2"]("",g["\u0275\u0275pipeBind2"](11,6,e.startDate,"MMM yyyy")," - ",e.endDate?g["\u0275\u0275pipeBind2"](12,9,e.endDate,"MMM yyyy"):"Present",""),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",!n.isViewMode),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("innerHTML",g["\u0275\u0275pipeBind1"](15,12,e.description),g["\u0275\u0275sanitizeHtml"])}}function F(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",39),g["\u0275\u0275elementStart"](1,"a",40),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2),n=g["\u0275\u0275reference"](11);return t.showMorePopup(n)})),g["\u0275\u0275text"](2,"Show More"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function z(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",13),g["\u0275\u0275elementStart"](1,"div",14),g["\u0275\u0275template"](2,D,16,14,"div",15),g["\u0275\u0275pipe"](3,"slice"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,F,3,0,"div",16),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pipeBind3"](3,2,e.data,0,3)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.data.length>3)}}function R(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",63),g["\u0275\u0275text"](1," End Date must be greater than Start Date."),g["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275element"](1,"aka-month-year-select",64),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("isRequired",!e.isCheckPresent)("label","End Date")("isSubmitted",e.isSubmit)("minYear",1950)("maxYear",e.currentYear)("fc",e.organizationForm.controls.endDate)("tabIndex",1)}}function T(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",65),g["\u0275\u0275elementStart"](1,"label",66),g["\u0275\u0275text"](2,"End Date "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"div",67),g["\u0275\u0275elementStart"](4,"span",68),g["\u0275\u0275text"](5,"Present"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"form",41),g["\u0275\u0275listener"]("ngSubmit",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.isSubmit=!0,t.organizationForm.valid&&t.saveForm(t.organizationForm.value)})),g["\u0275\u0275elementStart"](1,"div",42),g["\u0275\u0275elementStart"](2,"h4",43),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"button",44),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().modalRef.hide()})),g["\u0275\u0275elementStart"](5,"span",45),g["\u0275\u0275text"](6,"\xd7"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",46),g["\u0275\u0275elementStart"](8,"div",47),g["\u0275\u0275element"](9,"aka-input",48),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",47),g["\u0275\u0275element"](11,"aka-input",49),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](12,"div",50),g["\u0275\u0275elementStart"](13,"input",51),g["\u0275\u0275listener"]("change",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onCheckboxChange()})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"label",52),g["\u0275\u0275text"](15," I'm currently working here "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"div",53),g["\u0275\u0275elementStart"](17,"div",54),g["\u0275\u0275element"](18,"aka-month-year-select",55),g["\u0275\u0275template"](19,R,2,0,"div",56),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",54),g["\u0275\u0275template"](21,A,2,7,"div",57),g["\u0275\u0275template"](22,T,6,0,"div",58),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",47),g["\u0275\u0275element"](24,"aka-textarea",59),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"div",60),g["\u0275\u0275elementStart"](26,"button",61),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().modalRef.hide()})),g["\u0275\u0275text"](27,"Cancel"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"button",62),g["\u0275\u0275text"](29),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("formGroup",e.organizationForm),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"]("",e.selectedId?"Update":"Add New"," Organization & Association"),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("isSubmitted",e.isSubmit)("fc",e.organizationForm.controls.name)("isRequired",!0)("label","Organization")("placeholder","Name")("tabIndex",1)("autoFocus",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("isSubmitted",e.isSubmit)("fc",e.organizationForm.controls.position)("isRequired",!0)("label","Position")("tabIndex",1),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("checked",e.isCheckPresent)("tabIndex",1),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("isRequired",!0)("label","Start Date")("isSubmitted",e.isSubmit)("minYear",1950)("maxYear",e.currentYear)("fc",e.organizationForm.controls.startDate)("tabIndex",1),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!e.isValidStartEnd()),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",!e.isCheckPresent),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==e.isCheckPresent),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("tabIndex",1)("label","Short Description")("fc",e.organizationForm.controls.description)("isSubmitted",e.isSubmit)("maxLength",1e4),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](e.selectedId?"Done":"Add")}}function U(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",72),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](3),n=g["\u0275\u0275reference"](7);return t.openModal(n)})),g["\u0275\u0275element"](1,"nb-icon",12),g["\u0275\u0275elementStart"](2,"span"),g["\u0275\u0275text"](3,"Add new"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function j(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",9),g["\u0275\u0275template"](1,U,4,0,"button",71),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pCreate?null:e.pCreate.module)("permissionAction",null==e.pCreate?null:e.pCreate.action)}}function G(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",30),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2).$implicit,n=g["\u0275\u0275nextContext"](2),o=g["\u0275\u0275reference"](7);return n.editModal(o,t.id)})),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",31),g["\u0275\u0275elementStart"](2,"defs"),g["\u0275\u0275elementStart"](3,"style"),g["\u0275\u0275text"](4," .cls-1 { fill: transparent; stroke: #8f9bb3; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2px } "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"g",32),g["\u0275\u0275element"](6,"path",33),g["\u0275\u0275element"](7,"path",34),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function N(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",35),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2).$implicit;return g["\u0275\u0275nextContext"](2).showConfirmDelete(t.id)})),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",36),g["\u0275\u0275elementStart"](2,"g",37),g["\u0275\u0275element"](3,"path",38),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function L(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",26),g["\u0275\u0275elementStart"](1,"div",27),g["\u0275\u0275template"](2,G,8,0,"a",28),g["\u0275\u0275template"](3,N,4,0,"a",29),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pUpdate?null:e.pUpdate.module)("permissionAction",null==e.pUpdate?null:e.pUpdate.action),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pDelete?null:e.pDelete.module)("permissionAction",null==e.pDelete?null:e.pDelete.action)}}function W(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",17),g["\u0275\u0275elementStart"](1,"div",18),g["\u0275\u0275elementStart"](2,"div",19),g["\u0275\u0275elementStart"](3,"div",20),g["\u0275\u0275text"](4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div",21),g["\u0275\u0275elementStart"](6,"span"),g["\u0275\u0275text"](7),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"div",22),g["\u0275\u0275elementStart"](9,"div",23),g["\u0275\u0275text"](10),g["\u0275\u0275pipe"](11,"date"),g["\u0275\u0275pipe"](12,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](13,L,4,6,"div",24),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](14,"div",25),g["\u0275\u0275pipe"](15,"replaceToBr"),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",e.name," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",e.position,""),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate2"]("",g["\u0275\u0275pipeBind2"](11,6,e.startDate,"MMM yyyy")," - ",e.endDate?g["\u0275\u0275pipeBind2"](12,9,e.endDate,"MMM yyyy"):"Present",""),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",!n.isViewMode),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("innerHTML",g["\u0275\u0275pipeBind1"](15,12,e.description),g["\u0275\u0275sanitizeHtml"])}}const q=function(){return{"margin-bottom":0}};function Y(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",69),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"div",2),g["\u0275\u0275text"](3," Organizations & Associations "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,j,2,3,"div",3),g["\u0275\u0275elementStart"](5,"button",70),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().closeAllModal()})),g["\u0275\u0275elementStart"](6,"span",45),g["\u0275\u0275text"](7,"\xd7"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"div",13),g["\u0275\u0275elementStart"](9,"div",14),g["\u0275\u0275template"](10,W,16,14,"div",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngStyle",g["\u0275\u0275pureFunction0"](3,q)),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",!e.isViewMode),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngForOf",e.data)}}let H=(()=>{class e extends u.a{constructor(e,t,n,o,a,r){super(t),this.modalService=e,this.toastrService=t,this.crudService=n,this.layoutService=o,this.router=a,this.messageBusService=r,this.isViewMode=!1,this.selectedId=null,this.isSubmit=!1,this.data=[],this.isCheckPresent=!1,this.confirmMessage=i.a.Messages.ConfirmDelete,this.currentYear=(new Date).getFullYear(),this.ngbModalOptions={backdrop:"static",keyboard:!1,class:"modal-lg"},this.yearList=[],this.isShowCompare=!1,this._subscription=new m.a,this.destroy$=new p.a;const s=this.layoutService.onChangeReminderProfile().pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e===d.j.OrganizationAssociation&&setTimeout(()=>{const e=document.getElementById("btnAddOrganizationAssociation");e&&e.click()})});this._subscription.add(s)}ngOnInit(){this.resumeProfile=this.layoutService.getResumeProfile();const e=this.messageBusService.hookMessageChannel(d.o.profileChannel,d.p.loadProfile).subscribe(e=>{this.resumeProfile=e,this.loadData()});this._subscription.add(e),this.getYear();const t=this.messageBusService.hookMessageChannel(d.o.permissionChannel,d.p.loadUserRole).subscribe(e=>{this.caculatePermission(e,"Organizations & Associations")});this._subscription.add(t)}ngOnDestroy(){this._subscription&&!this._subscription.closed&&(this._subscription.unsubscribe(),this.messageBusService.deleteChannelMessage(d.o.profileChannel,d.p.loadProfile),this.messageBusService.deleteChannelMessage(d.o.permissionChannel,d.p.loadUserRole))}createForm(){this.selectedId=null,this.isSubmit=!1,this.organizationForm=new r.FormGroup({name:new r.FormControl("",r.Validators.required),position:new r.FormControl("",r.Validators.required),startDate:new r.FormControl("",[r.Validators.required]),endDate:new r.FormControl("",[r.Validators.required]),description:new r.FormControl("",r.Validators.maxLength(1e4))})}getYear(){for(let e=1950;e<=(new Date).getUTCFullYear();e++)this.yearList.push(e)}loadData(){var e;this.crudService.get(i.a.ApiUrl.GetAllOrganization+"?userId="+(null===(e=this.resumeProfile)||void 0===e?void 0:e.id)).subscribe(e=>{e&&e.data&&(this.data=e.data)},e=>{this.handleApiResponseError(e)})}openModal(e){this.isCheckPresent=!1,this.isSubmit=!1,this.isShowCompare=!1,this.createForm(),this.modalRef=this.modalService.show(e,this.ngbModalOptions)}saveForm(e){var t,n,o,a;let r;r=!0===this.isCheckPresent?null:new Date(this.organizationForm.controls.endDate.value);const s={name:null===(t=e)||void 0===t?void 0:t.name,position:null===(n=e)||void 0===n?void 0:n.position,description:null===(o=e)||void 0===o?void 0:o.description,startDate:e.startDate,endDate:r};this.selectedId?(s.id=this.selectedId,this.crudService.put(i.a.ApiUrl.UpdateOrganization,this.selectedId,s).subscribe(e=>{this.handleApiResponseSuccessCore(e,i.a.Messages.SaveSuccess,i.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),this.loadData()})},e=>{this.handleApiResponseError(e)})):(s.resumeId=null===(a=this.resumeProfile)||void 0===a?void 0:a.resumeId,this.crudService.post(i.a.ApiUrl.CreateOrganization,s).subscribe(e=>{this.handleApiResponseSuccessCore(e,i.a.Messages.AddSuccess,i.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),this.messageBusService.addMessage(d.o.profileChannel,d.p.updateResume),this.loadData()})},e=>{this.handleApiResponseError(e)}))}editModal(e,t){t&&this.crudService.getById(i.a.ApiUrl.GetByIdOrganization,t).subscribe(n=>{n&&n.data&&(this.openModal(e),this.selectedId=t,this.setFormValue(n.data))},e=>{this.handleApiResponseError(e)})}setFormValue(e){this.organizationForm.controls.name.setValue(e.name),this.organizationForm.controls.position.setValue(e.position),this.organizationForm.controls.description.setValue(e.description),this.organizationForm.controls.startDate.setValue(e.startDate),null===e.endDate?(this.organizationForm.controls.endDate.setValidators([]),this.isCheckPresent=!0):this.organizationForm.controls.endDate.setValue(e.endDate)}showConfirmDelete(e){this.selectedId=e,a.a.fire(i.V).then(e=>{e.value&&this.delete()})}delete(){this.selectedId&&this.crudService.delete(i.a.ApiUrl.DeleteOrganization,this.selectedId).subscribe(e=>{this.handleApiResponseSuccessCore(e,i.a.Messages.RemoveSuccess,i.a.MessageType.Success).then(e=>{this.messageBusService.addMessage(d.o.profileChannel,d.p.updateResume),this.loadData()})},e=>{this.handleApiResponseError(e)})}onCheckboxChange(){this.isCheckPresent=!this.isCheckPresent,this.isCheckPresent?(this.organizationForm.controls.endDate.setValidators([]),this.organizationForm.controls.endDate.setErrors(null)):(this.organizationForm.controls.endDate.setValue(""),this.organizationForm.controls.endDate.setValidators(r.Validators.required))}isValidStartEnd(){const e=this.organizationForm.controls.startDate.value,t=this.organizationForm.controls.endDate.value;if(e&&t)try{const n=new Date(e),o=new Date(t);if(n.getFullYear()>o.getFullYear())return!1;if(n.getFullYear()===o.getFullYear()&&n.getMonth()>=o.getMonth())return!1}catch(n){}return!0}showMorePopup(e){this.modalRef=this.modalService.show(e,this.ngbModalOptions)}closeAllModal(){this.modalService.hide(1)}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](o.b),g["\u0275\u0275directiveInject"](f.jb),g["\u0275\u0275directiveInject"](s.c),g["\u0275\u0275directiveInject"](l.b),g["\u0275\u0275directiveInject"](b.c),g["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["aka-organizations-associations"]],viewQuery:function(e,t){var n;1&e&&g["\u0275\u0275viewQuery"](E,!0),2&e&&g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.deleteSwal=n.first)},inputs:{isViewMode:"isViewMode"},features:[g["\u0275\u0275InheritDefinitionFeature"]],decls:12,vars:5,consts:[[1,"aka-card"],[1,"aka-card-header"],[1,"aka-card-title"],["class","aka-card-header-button",4,"ngIf"],["class","aka-card-body",4,"ngIf"],["formTemplate",""],["title","Confirm","icon","question",3,"text","showCancelButton","focusCancel","confirm"],["deleteSwal",""],["showMorePopupTemplate",""],[1,"aka-card-header-button"],["type","button","id","btnAddOrganizationAssociation","class","btn-add-new",3,"click",4,"permission","permissionModule","permissionAction"],["type","button","id","btnAddOrganizationAssociation",1,"btn-add-new",3,"click"],["icon","plus-outline"],[1,"aka-card-body"],[1,"organizations-associations-content"],["class","organizations-associations-item",4,"ngFor","ngForOf"],["class","show-more",4,"ngIf"],[1,"organizations-associations-item"],[1,"organizations-associations-item-top"],[2,"width","calc(100% - 100px)"],[1,"organizations-associations-title"],[1,"organizations-associations-subtitle"],[1,"organizations-associations-duration"],[1,"item-duration"],["class","organizations-associations-action",4,"ngIf"],[1,"organizations-associations-body",3,"innerHTML"],[1,"organizations-associations-action"],[1,"aka-action-section"],["href","javascript:void(0)","class","btn-edit-v2","nbTooltip","Edit","nbTooltipPlacement","top","nbButton","","status","basic",3,"click",4,"permission","permissionModule","permissionAction"],["href","javascript:void(0)","class","btn-remove-v2","nbTooltip","Delete","nbTooltipPlacement","top","nbButton","","status","basic",3,"click",4,"permission","permissionModule","permissionAction"],["href","javascript:void(0)","nbTooltip","Edit","nbTooltipPlacement","top","nbButton","","status","basic",1,"btn-edit-v2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 20 19.121"],["id","edit-3","transform","translate(1 1)"],["id","Path_30697","d","M12 20h9","data-name","Path 30697","transform","translate(-3 -2.879)",1,"cls-1"],["id","Path_30698","d","M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4z","data-name","Path 30698","transform","translate(-3 -2.879)",1,"cls-1"],["href","javascript:void(0)","nbTooltip","Delete","nbTooltipPlacement","top","nbButton","","status","basic",1,"btn-remove-v2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 18 19.875"],["id","delete_-trash_-dust-bin_-remove_-recycle-bin","data-name","delete,-trash,-dust-bin,-remove,-recycle-bin","transform","translate(-2.4 -1.4)"],["id","Path_30523","fill","#8f9bb3","d","M19.837 4.213h-5.531V2.9a1.5 1.5 0 0 0-1.5-1.5H9.994a1.5 1.5 0 0 0-1.5 1.5v1.313H2.963a.563.563 0 1 0 0 1.125h1.312V17.9a3.379 3.379 0 0 0 3.375 3.375h7.5a3.379 3.379 0 0 0 3.375-3.375V5.338h1.313a.563.563 0 0 0 0-1.125zM9.619 2.9a.375.375 0 0 1 .375-.375h2.813a.375.375 0 0 1 .375.375v1.313H9.619V2.9zm7.781 15a2.253 2.253 0 0 1-2.25 2.25h-7.5A2.253 2.253 0 0 1 5.4 17.9V5.338h12V17.9zm-8.906-.937V8.525a.563.563 0 0 1 1.125 0v8.438a.563.563 0 0 1-1.125 0zm4.688 0V8.525a.563.563 0 1 1 1.125 0v8.438a.563.563 0 0 1-1.125 0z","data-name","Path 30523"],[1,"show-more"],["href","javascript:;",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","btn-light","close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-0"],[1,"form-group"],["formControlName","name",3,"isSubmitted","fc","isRequired","label","placeholder","tabIndex","autoFocus"],["formControlName","position",3,"isSubmitted","fc","isRequired","label","tabIndex"],[1,"mb-2","checkbox"],["type","checkbox","name","checkbox","id","checkbox1",3,"checked","tabIndex","change"],["for","checkbox1"],[1,"form-row"],[1,"form-group","col-md-6","mb-0"],["formControlName","startDate",3,"isRequired","label","isSubmitted","minYear","maxYear","fc","tabIndex"],["style","margin-top: -16px;","class","aka-error",4,"ngIf"],[4,"ngIf"],["class","col-md-12 present",4,"ngIf"],["formControlName","description",3,"tabIndex","label","fc","isSubmitted","maxLength"],[1,"modal-footer"],["type","button","tabindex","1",1,"btn","btn-outline-primary","mr-2",3,"click"],["type","submit","tabindex","1",1,"btn","btn-primary"],[1,"aka-error",2,"margin-top","-16px"],["formControlName","endDate",3,"isRequired","label","isSubmitted","minYear","maxYear","fc","tabIndex"],[1,"col-md-12","present"],["for","inputState"],[2,"background-color","#f7f9fc","height","36px","border-radius","4px","border","solid 1px #e4e9f2"],[2,"line-height","2.47","font-size","14px","letter-spacing","normal","color","#2e3a59","padding","8px 12px 8px 12px"],[1,"aka-card",3,"ngStyle"],["type","button","aria-label","Close",1,"btn","btn-light","close","pull-right","close-popup-show-more",3,"click"],["type","button","class","btn-add-new",3,"click",4,"permission","permissionModule","permissionAction"],["type","button",1,"btn-add-new",3,"click"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"div",2),g["\u0275\u0275text"](3," Organizations & Associations "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,_,2,3,"div",3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](5,z,5,6,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](6,B,30,32,"ng-template",null,5,g["\u0275\u0275templateRefExtractor"]),g["\u0275\u0275elementStart"](8,"swal",6,7),g["\u0275\u0275listener"]("confirm",(function(){return t.delete()})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](10,Y,11,4,"ng-template",null,8,g["\u0275\u0275templateRefExtractor"])),2&e&&(g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",!t.isViewMode),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.data.length>0),g["\u0275\u0275advance"](3),g["\u0275\u0275propertyInterpolate"]("text",t.confirmMessage),g["\u0275\u0275property"]("showCancelButton",!0)("focusCancel",!0))},directives:[v.NgIf,C.a,x.a,f.B,v.NgForOf,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.FormGroupDirective,S.a,r.NgControlStatus,r.FormControlName,M.a,y.a,w.a,v.NgStyle],pipes:[v.SlicePipe,v.DatePipe,k.b],styles:['.organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]{overflow-x:hidden;border-bottom:1px solid #e4e9f2;padding-bottom:12px;margin-bottom:12px;line-height:18px;font-size:14px}.organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]   .organizations-associations-item-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:nowrap}.organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]   .organizations-associations-title[_ngcontent-%COMP%]{margin-bottom:6px;font-size:14px;font-weight:600;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#101426;max-width:100%;overflow:hidden;text-overflow:ellipsis}.organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]   .organizations-associations-subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#273251;margin-bottom:6px}.organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]   .organizations-associations-duration[_ngcontent-%COMP%]   .item-duration[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#8f9bb3;margin-bottom:6px}.organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]   .organizations-associations-body[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left;color:#273251}.organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]:first-child   .organizations-associations-action[_ngcontent-%COMP%]   .aka-action-section[_ngcontent-%COMP%], .organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]:hover   .organizations-associations-action[_ngcontent-%COMP%]   .aka-action-section[_ngcontent-%COMP%]{opacity:1}.organizations-associations-content[_ngcontent-%COMP%]   .organizations-associations-item[_ngcontent-%COMP%]:last-child{border-bottom:0;margin-bottom:0;padding-bottom:0}.modal-body[_ngcontent-%COMP%]   .present[_ngcontent-%COMP%]{padding:0!important}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-left:-4px;margin-top:-8px}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;opacity:1e-8;position:absolute;left:0}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:-1px;margin:4px;width:14px;height:14px;transition:transform .28s ease;border-radius:3px;border:1px solid #2e3a59}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:"";display:block;width:10px;height:5px;border-bottom:1px solid #274bdb;border-left:1px solid #274bdb;transform:rotate(-45deg) scale(0);transition:transform .25s ease;will-change:transform;position:absolute;top:6px;left:6px}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:before{color:#274bdb;border-color:#274bdb}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{transform:rotate(-51deg) scale(1)}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-height:25px;display:block;padding-left:25px;padding-top:1px;margin-bottom:0;font-weight:400;vertical-align:sub}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]:before{outline:0}.modal-body[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#274bdb!important;cursor:pointer}']}),e})()},Dbwh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("i2L+"),i=(n("5JHT"),n("fXoL"));let a=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[o.a]]}),e})()},HFXQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var o=n("K3ix"),i=n("JuUv"),a=n("J9tS"),r=n("3Pt+"),s=n("vC38"),l=n("GAup"),c=n("Hwp3"),d=n("mlVJ"),m=n("quSY"),p=n("XNiG"),u=n("FRs0"),h=n("1G5W"),g=n("fXoL"),f=n("aceb"),b=n("ofXK"),v=n("QJFE"),C=n("QUs2"),x=n("WlJO"),S=n("TMV2"),M=n("1Znt");const y=["deleteSwal"];function w(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",11),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2),n=g["\u0275\u0275reference"](7);return t.openModal(n)})),g["\u0275\u0275element"](1,"nb-icon",12),g["\u0275\u0275elementStart"](2,"span"),g["\u0275\u0275text"](3,"Add new"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function k(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",9),g["\u0275\u0275template"](1,w,4,0,"button",10),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pCreate?null:e.pCreate.module)("permissionAction",null==e.pCreate?null:e.pCreate.action)}}function E(e,t){1&e&&g["\u0275\u0275element"](0,"div",24)}function P(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.year>1?e.year+" years":e.year+" year")}}function _(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1,",\xa0"),g["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.month>1?e.month+" months":e.month+" month")}}function I(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",29),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2).$implicit,n=g["\u0275\u0275nextContext"](2),o=g["\u0275\u0275reference"](7);return n.editModal(o,t.id)})),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",30),g["\u0275\u0275elementStart"](2,"defs"),g["\u0275\u0275elementStart"](3,"style"),g["\u0275\u0275text"](4," .cls-1 { fill: transparent; stroke: #8f9bb3; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2px } "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"g",31),g["\u0275\u0275element"](6,"path",32),g["\u0275\u0275element"](7,"path",33),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function V(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",34),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2).$implicit;return g["\u0275\u0275nextContext"](2).showConfirmDelete(t.id)})),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",35),g["\u0275\u0275elementStart"](2,"g",36),g["\u0275\u0275element"](3,"path",37),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function D(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",25),g["\u0275\u0275elementStart"](1,"div",26),g["\u0275\u0275template"](2,I,8,0,"a",27),g["\u0275\u0275template"](3,V,4,0,"a",28),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pUpdate?null:e.pUpdate.module)("permissionAction",null==e.pUpdate?null:e.pUpdate.action),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pDelete?null:e.pDelete.module)("permissionAction",null==e.pDelete?null:e.pDelete.action)}}function F(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,E,1,0,"div",17),g["\u0275\u0275elementStart"](2,"div",18),g["\u0275\u0275elementStart"](3,"div",19),g["\u0275\u0275elementStart"](4,"div",20),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"div",21),g["\u0275\u0275template"](7,P,2,1,"span",22),g["\u0275\u0275template"](8,_,2,0,"span",22),g["\u0275\u0275template"](9,O,2,1,"span",22),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](10,D,4,6,"div",23),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=t.index,o=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0!=n&&n!=o.data.length&&n%2==0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngClass","Manager"==o.viewMode?"col-lg-6":""),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",e.name," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.year),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.year&&e.month),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.month),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!o.isViewMode)}}function z(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",38),g["\u0275\u0275elementStart"](1,"a",39),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2),n=g["\u0275\u0275reference"](11);return t.showMorePopup(n)})),g["\u0275\u0275text"](2,"Show More"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function R(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",13),g["\u0275\u0275elementStart"](1,"div",14),g["\u0275\u0275template"](2,F,11,7,"ng-container",15),g["\u0275\u0275pipe"](3,"slice"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,z,3,0,"div",16),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngClass","Manager"==e.viewMode?"manager-vm":""),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngClass","Manager"==e.viewMode?"row":""),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pipeBind3"](3,4,e.data,0,3)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.data.length>3)}}function A(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",57),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.requiredMessage,"")}}function T(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"form",40),g["\u0275\u0275listener"]("ngSubmit",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.isSubmit=!0,!t.isYearMonthRequired()&&t.mainForm.valid&&t.saveForm(t.mainForm.value)})),g["\u0275\u0275elementStart"](1,"div",41),g["\u0275\u0275elementStart"](2,"h4",42),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"button",43),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().modalRef.hide()})),g["\u0275\u0275elementStart"](5,"span",44),g["\u0275\u0275text"](6,"\xd7"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",45),g["\u0275\u0275element"](8,"aka-input",46),g["\u0275\u0275elementStart"](9,"div",47),g["\u0275\u0275elementStart"](10,"label"),g["\u0275\u0275text"](11,"Experience "),g["\u0275\u0275elementStart"](12,"span",48),g["\u0275\u0275text"](13," *"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"div",49),g["\u0275\u0275elementStart"](15,"div",50),g["\u0275\u0275element"](16,"aka-input-number",51),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"div",50),g["\u0275\u0275element"](18,"aka-input-number",52),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](19,A,2,1,"div",53),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",54),g["\u0275\u0275elementStart"](21,"button",55),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().modalRef.hide()})),g["\u0275\u0275text"](22,"Cancel"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"button",56),g["\u0275\u0275text"](24),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("formGroup",e.mainForm),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](e.selectedId?"Update Domain":"Add new Domain"),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("fc",e.mainForm.controls.name)("isSubmitted",e.isSubmit)("isRequired",!0)("label","Name Of Domain")("placeholder","Name")("tabIndex",1)("autoFocus",!0),g["\u0275\u0275advance"](8),g["\u0275\u0275property"]("maxLength",2)("fc",e.mainForm.controls.year)("isSubmitted",e.isSubmit)("tabIndex",1)("placeholder","Year"),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("maxLength",2)("fc",e.mainForm.controls.month)("isSubmitted",e.isSubmit)("max",12)("tabIndex",1)("placeholder","Month"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.isSubmit&&e.isYearMonthRequired()),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](e.selectedId?"Done":"Add")}}function B(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",61),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](3),n=g["\u0275\u0275reference"](7);return t.openModal(n)})),g["\u0275\u0275element"](1,"nb-icon",12),g["\u0275\u0275elementStart"](2,"span"),g["\u0275\u0275text"](3,"Add new"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function U(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",9),g["\u0275\u0275template"](1,B,4,0,"button",60),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pCreate?null:e.pCreate.module)("permissionAction",null==e.pCreate?null:e.pCreate.action)}}function j(e,t){1&e&&g["\u0275\u0275element"](0,"div",24)}function G(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.year>1?e.year+" years":e.year+" year")}}function N(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1,",\xa0"),g["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.month>1?e.month+" months":e.month+" month")}}function W(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",29),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2).$implicit,n=g["\u0275\u0275nextContext"](2),o=g["\u0275\u0275reference"](7);return n.editModal(o,t.id)})),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",30),g["\u0275\u0275elementStart"](2,"defs"),g["\u0275\u0275elementStart"](3,"style"),g["\u0275\u0275text"](4," .cls-1 { fill: transparent; stroke: #8f9bb3; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2px } "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"g",31),g["\u0275\u0275element"](6,"path",32),g["\u0275\u0275element"](7,"path",33),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function q(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",34),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2).$implicit;return g["\u0275\u0275nextContext"](2).showConfirmDelete(t.id)})),g["\u0275\u0275namespaceSVG"](),g["\u0275\u0275elementStart"](1,"svg",35),g["\u0275\u0275elementStart"](2,"g",36),g["\u0275\u0275element"](3,"path",37),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function Y(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",25),g["\u0275\u0275elementStart"](1,"div",26),g["\u0275\u0275template"](2,W,8,0,"a",27),g["\u0275\u0275template"](3,q,4,0,"a",28),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pUpdate?null:e.pUpdate.module)("permissionAction",null==e.pUpdate?null:e.pUpdate.action),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("permission",e.userRole)("permissionModule",null==e.pDelete?null:e.pDelete.module)("permissionAction",null==e.pDelete?null:e.pDelete.action)}}function H(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275template"](1,j,1,0,"div",17),g["\u0275\u0275elementStart"](2,"div",18),g["\u0275\u0275elementStart"](3,"div",19),g["\u0275\u0275elementStart"](4,"div",20),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"div",21),g["\u0275\u0275template"](7,G,2,1,"span",22),g["\u0275\u0275template"](8,N,2,0,"span",22),g["\u0275\u0275template"](9,L,2,1,"span",22),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](10,Y,4,6,"div",23),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=t.index,o=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0!=n&&n!=o.data.length&&n%2==0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngClass","Manager"==o.viewMode?"col-lg-6":""),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",e.name," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.year),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.year&&e.month),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.month),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!o.isViewMode)}}const $=function(){return{"margin-bottom":0}};function J(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",58),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"div",2),g["\u0275\u0275text"](3," Domain "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,U,2,3,"div",3),g["\u0275\u0275elementStart"](5,"button",59),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().closeAllModal()})),g["\u0275\u0275elementStart"](6,"span",44),g["\u0275\u0275text"](7,"\xd7"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"div",13),g["\u0275\u0275elementStart"](9,"div",14),g["\u0275\u0275template"](10,H,11,7,"ng-container",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngStyle",g["\u0275\u0275pureFunction0"](5,$)),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",!e.isViewMode),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngClass","Manager"==e.viewMode?"manager-vm":""),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngClass","Manager"==e.viewMode?"row":""),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.data)}}let Q=(()=>{class e extends u.a{constructor(e,t,n,o,a){super(n),this.modalService=e,this.crudService=t,this.toastrService=n,this.layoutService=o,this.messageBusService=a,this.isViewMode=!1,this.viewMode=null,this.selectedId=null,this.isSubmit=!1,this.data=[],this.requiredMessage=i.a.Messages.RequireYearMonthDomain,this.confirmMessage=i.a.Messages.ConfirmDelete,this.ngbModalOptions={backdrop:"static",keyboard:!1},this._subscription=new m.a,this.destroy$=new p.a;const r=this.layoutService.onChangeReminderProfile().pipe(Object(h.a)(this.destroy$)).subscribe(e=>{e===d.j.Domain&&setTimeout(()=>{const e=document.getElementById("btnAddDomain");e&&e.click()})});this._subscription.add(r)}createForm(){this.selectedId=null,this.isSubmit=!1,this.mainForm=new r.FormGroup({name:new r.FormControl("",r.Validators.required),year:new r.FormControl(""),month:new r.FormControl("",[r.Validators.max(12)])})}ngOnInit(){this.resumeProfile=this.layoutService.getResumeProfile();const e=this.messageBusService.hookMessageChannel(d.o.profileChannel,d.p.loadProfile).subscribe(e=>{this.resumeProfile=e,this.loadData()});this._subscription.add(e);const t=this.messageBusService.hookMessageChannel(d.o.permissionChannel,d.p.loadUserRole).subscribe(e=>{this.caculatePermission(e,"Domain")});this._subscription.add(t)}ngOnDestroy(){this._subscription&&!this._subscription.closed&&(this._subscription.unsubscribe(),this.messageBusService.deleteChannelMessage(d.o.profileChannel,d.p.loadProfile),this.messageBusService.deleteChannelMessage(d.o.permissionChannel,d.p.loadUserRole))}openModal(e){this.createForm(),this.modalRef=this.modalService.show(e,this.ngbModalOptions)}loadData(){var e;this.crudService.get(i.a.ApiUrl.GetAllDomains+"?userId="+(null===(e=this.resumeProfile)||void 0===e?void 0:e.id)).subscribe(e=>{e&&e.data&&(this.data=e.data)},e=>{this.handleApiResponseError(e)})}saveForm(e){var t,n;const o={name:null===(t=e)||void 0===t?void 0:t.name,year:e.year?Number(e.year):0,month:e.month?Number(e.month):0};this.selectedId?(o.id=this.selectedId,this.crudService.put(i.a.ApiUrl.UpdateDomain,this.selectedId,o).subscribe(e=>{this.handleApiResponseSuccessCore(e,i.a.Messages.SaveSuccess,i.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),this.messageBusService.addMessage(d.o.profileChannel,d.p.updateResume),this.loadData()})},e=>{this.handleApiResponseError(e)})):(o.resumeId=null===(n=this.resumeProfile)||void 0===n?void 0:n.resumeId,this.crudService.post(i.a.ApiUrl.CreateDomain,o).subscribe(e=>{this.handleApiResponseSuccessCore(e,i.a.Messages.AddSuccess,i.a.MessageType.Success).then(e=>{null!=this.modalRef&&this.modalRef.hide(),this.messageBusService.addMessage(d.o.profileChannel,d.p.updateResume),this.loadData()})},e=>{this.handleApiResponseError(e)}))}editModal(e,t){t&&this.crudService.getById(i.a.ApiUrl.GetDomainById,t).subscribe(n=>{n&&n.data&&(this.openModal(e),this.selectedId=t,this.setFormValue(n.data))},e=>{this.handleApiResponseError(e)})}setFormValue(e){this.mainForm.controls.name.setValue(e.name),this.mainForm.controls.year.setValue(e.year),this.mainForm.controls.month.setValue(e.month)}showConfirmDelete(e){this.selectedId=e,l.a.fire(i.V).then(e=>{e.value&&this.delete()})}delete(){this.selectedId&&this.crudService.delete(i.a.ApiUrl.DeleteDomain,this.selectedId).subscribe(e=>{this.handleApiResponseSuccessCore(e,i.a.Messages.RemoveSuccess,i.a.MessageType.Success).then(e=>{this.messageBusService.addMessage(d.o.profileChannel,d.p.updateResume),this.loadData()})},e=>{this.handleApiResponseError(e)})}isYearMonthRequired(){return this.mainForm.controls.month.value<=0&&this.mainForm.controls.year.value<=0}showMorePopup(e){this.modalRef=this.modalService.show(e,this.ngbModalOptions)}closeAllModal(){this.modalService.hide(1)}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](o.b),g["\u0275\u0275directiveInject"](a.c),g["\u0275\u0275directiveInject"](f.jb),g["\u0275\u0275directiveInject"](s.b),g["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["aka-domain"]],viewQuery:function(e,t){var n;1&e&&g["\u0275\u0275viewQuery"](y,!0),2&e&&g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.deleteSwal=n.first)},inputs:{isViewMode:"isViewMode",viewMode:"viewMode"},features:[g["\u0275\u0275InheritDefinitionFeature"]],decls:12,vars:5,consts:[[1,"aka-card"],[1,"aka-card-header"],[1,"aka-card-title"],["class","aka-card-header-button",4,"ngIf"],["class","aka-card-body",3,"ngClass",4,"ngIf"],["formTemplate",""],["title","Confirm","icon","question",3,"text","showCancelButton","focusCancel","confirm"],["deleteSwal",""],["showMorePopupTemplate",""],[1,"aka-card-header-button"],["type","button","id","btnAddDomain","class","btn-add-new",3,"click",4,"permission","permissionModule","permissionAction"],["type","button","id","btnAddDomain",1,"btn-add-new",3,"click"],["icon","plus-outline"],[1,"aka-card-body",3,"ngClass"],[1,"domain-content",3,"ngClass"],[4,"ngFor","ngForOf"],["class","show-more",4,"ngIf"],["class","mv-separator",4,"ngIf"],[1,"domain-item",3,"ngClass"],[2,"width","calc(100% - 100px)"],[1,"domain-title"],[1,"domain-date"],[4,"ngIf"],["class","domain-action",4,"ngIf"],[1,"mv-separator"],[1,"domain-action"],[1,"aka-action-section"],["href","javascript:void(0)","class","btn-edit-v2","nbTooltip","Edit","nbTooltipPlacement","top","nbButton","","status","basic",3,"click",4,"permission","permissionModule","permissionAction"],["href","javascript:void(0)","class","btn-remove-v2","nbTooltip","Delete","nbTooltipPlacement","top","nbButton","","status","basic",3,"click",4,"permission","permissionModule","permissionAction"],["href","javascript:void(0)","nbTooltip","Edit","nbTooltipPlacement","top","nbButton","","status","basic",1,"btn-edit-v2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 20 19.121"],["id","edit-3","transform","translate(1 1)"],["id","Path_30697","d","M12 20h9","data-name","Path 30697","transform","translate(-3 -2.879)",1,"cls-1"],["id","Path_30698","d","M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19l-4 1 1-4z","data-name","Path 30698","transform","translate(-3 -2.879)",1,"cls-1"],["href","javascript:void(0)","nbTooltip","Delete","nbTooltipPlacement","top","nbButton","","status","basic",1,"btn-remove-v2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 18 19.875"],["id","delete_-trash_-dust-bin_-remove_-recycle-bin","data-name","delete,-trash,-dust-bin,-remove,-recycle-bin","transform","translate(-2.4 -1.4)"],["id","Path_30523","fill","#8f9bb3","d","M19.837 4.213h-5.531V2.9a1.5 1.5 0 0 0-1.5-1.5H9.994a1.5 1.5 0 0 0-1.5 1.5v1.313H2.963a.563.563 0 1 0 0 1.125h1.312V17.9a3.379 3.379 0 0 0 3.375 3.375h7.5a3.379 3.379 0 0 0 3.375-3.375V5.338h1.313a.563.563 0 0 0 0-1.125zM9.619 2.9a.375.375 0 0 1 .375-.375h2.813a.375.375 0 0 1 .375.375v1.313H9.619V2.9zm7.781 15a2.253 2.253 0 0 1-2.25 2.25h-7.5A2.253 2.253 0 0 1 5.4 17.9V5.338h12V17.9zm-8.906-.937V8.525a.563.563 0 0 1 1.125 0v8.438a.563.563 0 0 1-1.125 0zm4.688 0V8.525a.563.563 0 1 1 1.125 0v8.438a.563.563 0 0 1-1.125 0z","data-name","Path 30523"],[1,"show-more"],["href","javascript:;",3,"click"],[1,"aka-form",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn","btn-light","close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],["formControlName","name",3,"fc","isSubmitted","isRequired","label","placeholder","tabIndex","autoFocus"],[1,"form-group","mb-0"],[1,"aka-required"],[1,"row","no-gutters","m-0"],[1,"col"],["formControlName","year",1,"year",3,"maxLength","fc","isSubmitted","tabIndex","placeholder"],["formControlName","month",1,"month",3,"maxLength","fc","isSubmitted","max","tabIndex","placeholder"],["class","aka-error mb-0",4,"ngIf"],[1,"modal-footer"],["type","button","tabindex","1",1,"btn","btn-outline-primary","mr-2",3,"click"],["type","submit","tabindex","1",1,"btn","btn-primary"],[1,"aka-error","mb-0"],[1,"aka-card",3,"ngStyle"],["type","button","aria-label","Close",1,"btn","btn-light","close","pull-right","close-popup-show-more",3,"click"],["type","button","class","btn-add-new",3,"click",4,"permission","permissionModule","permissionAction"],["type","button",1,"btn-add-new",3,"click"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"div",2),g["\u0275\u0275text"](3," Domain "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,k,2,3,"div",3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](5,R,5,8,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](6,T,25,22,"ng-template",null,5,g["\u0275\u0275templateRefExtractor"]),g["\u0275\u0275elementStart"](8,"swal",6,7),g["\u0275\u0275listener"]("confirm",(function(){return t.delete()})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](10,J,11,6,"ng-template",null,8,g["\u0275\u0275templateRefExtractor"])),2&e&&(g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",!t.isViewMode),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.data.length>0),g["\u0275\u0275advance"](3),g["\u0275\u0275propertyInterpolate"]("text",t.confirmMessage),g["\u0275\u0275property"]("showCancelButton",!0)("focusCancel",!0))},directives:[b.NgIf,v.a,C.a,f.B,b.NgClass,b.NgForOf,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.FormGroupDirective,x.a,r.NgControlStatus,r.FormControlName,S.a,M.a,b.NgStyle],pipes:[b.SlicePipe],styles:[".domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:12px;margin-bottom:12px;border-bottom:1px solid #e4e9f2;overflow-x:hidden;font-size:14px}.domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]   .domain-title[_ngcontent-%COMP%]{margin-bottom:6px;font-weight:600;color:#101426;max-width:100%;overflow:hidden;text-overflow:ellipsis}.domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]   .domain-date[_ngcontent-%COMP%], .domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]   .domain-title[_ngcontent-%COMP%]{font-size:14px;font-stretch:normal;font-style:normal;line-height:1.47;letter-spacing:0;text-align:left}.domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]   .domain-date[_ngcontent-%COMP%]{font-weight:400;color:#273251}.domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]   .domain-description[_ngcontent-%COMP%]{color:#8f9bb3}.domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]:first-child   .domain-action[_ngcontent-%COMP%]   .aka-action-section[_ngcontent-%COMP%], .domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]:hover   .domain-action[_ngcontent-%COMP%]   .aka-action-section[_ngcontent-%COMP%]{opacity:1}.domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:0;padding-bottom:0}.mv-separator[_ngcontent-%COMP%]{display:none}.manager-vm[_ngcontent-%COMP%]{padding-bottom:0!important}.manager-vm[_ngcontent-%COMP%]   .mv-separator[_ngcontent-%COMP%]{display:block;width:calc(100% - 30px);height:1px;margin:0 auto 16px;background-color:#e4e9f2}.manager-vm[_ngcontent-%COMP%]   .domain-content[_ngcontent-%COMP%]{border-bottom:1px solid #e4e9f2}.manager-vm[_ngcontent-%COMP%]   .domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]{padding-bottom:16px;border-bottom:0;margin-bottom:0}.manager-vm[_ngcontent-%COMP%]   .domain-content[_ngcontent-%COMP%]   .domain-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.manager-vm[_ngcontent-%COMP%]   .domain-content[_ngcontent-%COMP%]:last-child{border-bottom:0;margin-bottom:0}.manager-vm[_ngcontent-%COMP%]   .show-more[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px;border-top:0}"]}),e})()},ztbI:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("i2L+"),i=(n("HFXQ"),n("fXoL"));let a=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[o.a]]}),e})()}}]);