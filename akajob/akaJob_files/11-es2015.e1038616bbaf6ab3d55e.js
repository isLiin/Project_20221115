(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{cbK4:function(e,t,i){"use strict";i.d(t,"a",(function(){return Ne}));var n=i("fXoL"),a=i("3Pt+"),r=i("JuUv"),o=i("J9tS"),l=i("LvDl"),s=i("wd/R"),d=i.n(s),c=i("K3ix"),m=i("aceb"),u=i("ofXK"),h=i("nGFC"),f=i("ShuP"),p=i("WlJO"),v=i("ASLk"),C=i("51R/"),g=i("sE7M");const S=["form"],b=["checkboxSubmission"],x=["validateFail"];function y(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",42),n["\u0275\u0275elementStart"](1,"h4"),n["\u0275\u0275text"](2),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](3,"div",43),n["\u0275\u0275elementStart"](4,"button",44),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).closeModal()})),n["\u0275\u0275text"](5," Cancel "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](6,"button",45),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](),n["\u0275\u0275reference"](3).ngSubmit.emit(!1)})),n["\u0275\u0275text"](7," Save "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](8,"button",46),n["\u0275\u0275listener"]("click",(function(){n["\u0275\u0275restoreView"](e);const t=n["\u0275\u0275nextContext"](2),i=n["\u0275\u0275reference"](4);return t.openConfirmPopup(i)})),n["\u0275\u0275text"](9," Save & Verify "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate3"](" ",e.data.username," (",e.data.account," - ",e.data.childDepartment,") ")}}function I(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",47),n["\u0275\u0275elementStart"](1,"h4",48),n["\u0275\u0275text"](2),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](3,"div",49),n["\u0275\u0275elementStart"](4,"button",50),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).closeModal()})),n["\u0275\u0275elementStart"](5,"span",51),n["\u0275\u0275text"](6,"\xd7"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"](" ",e.isEdit?"Update certificate":"Add new certificate"," ")}}function F(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",14),n["\u0275\u0275elementStart"](1,"div",52),n["\u0275\u0275text"](2," Please do not add courses/certificates supported by FSOFT. These items will be automatically updated on akaJob during several days. "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",53),n["\u0275\u0275text"](1," Duplicate certificate! You\u2019ve already had this certificate in your Profile. "),n["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",53),n["\u0275\u0275text"](1," This Certificate Name with this Provider is existing in Certificate Catalog. Please select it from above Certificate Catalog or input a new one. "),n["\u0275\u0275elementEnd"]())}function V(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",53),n["\u0275\u0275text"](1," Duplicate certificate! You\u2019ve already had this certificate in your Profile. "),n["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",53),n["\u0275\u0275text"](1," Expired Date must be greater than Issued Date. "),n["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",56),n["\u0275\u0275elementStart"](1,"div",57),n["\u0275\u0275text"](2,"Please attach your result."),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementStart"](1,"div",14),n["\u0275\u0275elementStart"](2,"div",15),n["\u0275\u0275elementStart"](3,"aka-upload-single-file",54),n["\u0275\u0275listener"]("fileItem",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).fileItem(t)}))("changeUploadStatus",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).changeUploadStatus(t)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](4,P,3,0,"div",55),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("file",e.file)("cancelUploadFile",e.cancelUpload),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isSubmit&&(!e.file||!e.isCompletedUploadFile))}}function M(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",67),n["\u0275\u0275text"](1,"Course Completion"),n["\u0275\u0275elementEnd"]())}function N(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",67),n["\u0275\u0275text"](1," International Certificate "),n["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",67),n["\u0275\u0275text"](1," Education Certificate "),n["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",67),n["\u0275\u0275text"](1,"Not in Catalog"),n["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementStart"](1,"div",58),n["\u0275\u0275elementStart"](2,"div",59),n["\u0275\u0275elementStart"](3,"div",60),n["\u0275\u0275elementStart"](4,"div",61),n["\u0275\u0275text"](5,"CTC Bonus"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](6,"div",62),n["\u0275\u0275element"](7,"input",63),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](8,"div",59),n["\u0275\u0275elementStart"](9,"div",60),n["\u0275\u0275elementStart"](10,"div",61),n["\u0275\u0275text"](11,"Certificate Type"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](12,"div",62),n["\u0275\u0275elementStart"](13,"span",64),n["\u0275\u0275template"](14,M,2,0,"p",65),n["\u0275\u0275template"](15,N,2,0,"p",65),n["\u0275\u0275template"](16,D,2,0,"p",65),n["\u0275\u0275template"](17,L,2,0,"p",66),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](13),n["\u0275\u0275property"]("ngSwitch",e.data.type),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",0),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",1),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",2)}}function O(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementStart"](1,"div",70),n["\u0275\u0275elementStart"](2,"label"),n["\u0275\u0275elementStart"](3,"input",71,4),n["\u0275\u0275listener"]("ngModelChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](4).isMoocSubmission=t}))("change",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](4).onSubmissionChange(t)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](5," Learning Credit Submission "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](6,"a",72),n["\u0275\u0275listener"]("click",(function(){n["\u0275\u0275restoreView"](e);const t=n["\u0275\u0275nextContext"](4),i=n["\u0275\u0275reference"](2);return t.openLearningCredit(i)})),n["\u0275\u0275text"](7),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](4);n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("ngModel",e.isMoocSubmission),n["\u0275\u0275attribute"]("disabled",!(!e.data.moocStatus||e.isEdited)||null),n["\u0275\u0275advance"](4),n["\u0275\u0275textInterpolate1"]("View Learning Credit Achievement List of ",null==e.data?null:e.data.account,"")}}function R(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"p",74),n["\u0275\u0275text"](1),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](5);n["\u0275\u0275advance"](1),n["\u0275\u0275textInterpolate2"](" This certificate might have been added for Learning Credit ",e.data.year,". Please check Learning Credit Courses of ",e.data.account," before submitting. ")}}function _(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",74),n["\u0275\u0275text"](1," This certificate has been provided by Udemy and automatically added to Learning Credit by synchronization. "),n["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,R,2,2,"p",73),n["\u0275\u0275template"](2,_,2,0,"p",73),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](4);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&"Udemy"===e.data.certificateAuthority&&!e.data.courseId),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf","Udemy"===e.data.certificateAuthority&&e.data.courseId)}}function U(e,t){1&e&&n["\u0275\u0275elementContainer"](0)}function Y(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"p",74),n["\u0275\u0275text"](1),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](5);n["\u0275\u0275advance"](1),n["\u0275\u0275textInterpolate2"](" This certificate might have been added for Learning Credit ",e.data.year,". Please check Learning Credit Courses of ",e.data.account," before submitting. ")}}function q(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,Y,2,2,"p",73),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](4);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&"Udemy"===e.data.certificateAuthority)}}function B(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementContainerStart"](1),n["\u0275\u0275template"](2,O,8,3,"ng-container",0),n["\u0275\u0275elementContainerStart"](3,64),n["\u0275\u0275template"](4,H,3,2,"ng-container",68),n["\u0275\u0275template"](5,U,1,0,"ng-container",68),n["\u0275\u0275template"](6,q,2,1,"ng-container",69),n["\u0275\u0275elementContainerEnd"](),n["\u0275\u0275elementContainerEnd"](),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](3);n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",(null==e.data?null:e.data.type)!==e.certificateType.InternationalCertificate&&(null==e.data?null:e.data.type)!==e.certificateType.EducationCertificate&&("Udemy"!==e.data.certificateAuthority||!e.data.courseId)),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitch",e.data.type),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",e.certificateType.CourseCompletion),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",e.certificateType.InternationalCertificate)}}function z(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"div",14),n["\u0275\u0275elementStart"](1,"div",15),n["\u0275\u0275template"](2,B,7,4,"ng-container",0),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",null==e.data?null:e.data.isCurrentYear)}}function G(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",81),n["\u0275\u0275text"](1," Please fill in this field. "),n["\u0275\u0275elementEnd"]())}function j(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",81),n["\u0275\u0275text"](1," Please fill in this field. "),n["\u0275\u0275elementEnd"]())}function J(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",81),n["\u0275\u0275text"](1," Learning Hour(s) must be greater than 0. "),n["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementStart"](1,"div",14),n["\u0275\u0275elementStart"](2,"div",28),n["\u0275\u0275elementStart"](3,"div",75),n["\u0275\u0275elementStart"](4,"label"),n["\u0275\u0275text"](5,"Link Course "),n["\u0275\u0275elementStart"](6,"span",76),n["\u0275\u0275text"](7,"*"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](8,"input",77),n["\u0275\u0275listener"]("ngModelChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).linkCourse=t})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](9,G,2,0,"p",78),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](10,"div",28),n["\u0275\u0275elementStart"](11,"div",79),n["\u0275\u0275elementStart"](12,"label"),n["\u0275\u0275text"](13,"Learning Hour(s) "),n["\u0275\u0275elementStart"](14,"span",76),n["\u0275\u0275text"](15,"*"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](16,"input",80),n["\u0275\u0275listener"]("keydown",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).inputLearningHours(t)}))("ngModelChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).learningHours=t})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](17,j,2,0,"p",78),n["\u0275\u0275template"](18,J,2,0,"p",78),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](8),n["\u0275\u0275property"]("ngModel",e.linkCourse),n["\u0275\u0275attribute"]("disabled",!(!e.data.moocStatus||e.isEdited)||null),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&1===e.isvalidate(e.linkCourse)),n["\u0275\u0275advance"](7),n["\u0275\u0275property"]("ngModel",e.learningHours),n["\u0275\u0275attribute"]("disabled",!(!e.data.moocStatus||e.isEdited)||null),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&1===e.isvalidate(e.learningHours)),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&2===e.isvalidate(e.learningHours))}}function Q(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"span",76),n["\u0275\u0275text"](1," *"),n["\u0275\u0275elementEnd"]())}function X(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"div",56),n["\u0275\u0275elementStart"](1,"div",57),n["\u0275\u0275text"](2,"Please attach your result."),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]())}function W(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementStart"](1,"div",14),n["\u0275\u0275elementStart"](2,"div",15),n["\u0275\u0275elementStart"](3,"div",60),n["\u0275\u0275elementStart"](4,"div",61),n["\u0275\u0275text"](5," Evidence "),n["\u0275\u0275template"](6,Q,2,0,"span",82),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](7,"div",62),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](8,"div",15),n["\u0275\u0275elementStart"](9,"aka-upload-single-file",83),n["\u0275\u0275listener"]("fileItem",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).fileItem(t)}))("changeUploadStatus",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).changeUploadStatus(t)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](10,X,3,0,"div",55),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](6),n["\u0275\u0275property"]("ngIf",!e.isEdit),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("imageType",1)("file",e.file)("cancelUploadFile",e.cancelUpload),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isSubmit&&!e.isEdit&&(!e.file||!e.isCompletedUploadFile))}}function $(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",84),n["\u0275\u0275elementStart"](1,"button",85),n["\u0275\u0275text"](2,"Save"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](3,"button",86),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"](2).closeModal()})),n["\u0275\u0275text"](4," Cancel "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}}function Z(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,y,10,3,"div",8),n["\u0275\u0275elementStart"](2,"form",9,10),n["\u0275\u0275listener"]("keydown.enter",(function(t){return n["\u0275\u0275restoreView"](e),t.preventDefault()}))("ngSubmit",(function(t){n["\u0275\u0275restoreView"](e);const i=n["\u0275\u0275nextContext"]();return i.isSubmit=!0,!i.isExistCertInProfile&&i.isValidStartEnd()&&i.isValidGrade()&&i.isValidFile(i.file)&&i.mainForm.valid&&i.submit(t,i.mainForm)})),n["\u0275\u0275template"](4,I,7,1,"div",11),n["\u0275\u0275elementStart"](5,"div",12),n["\u0275\u0275template"](6,F,3,0,"div",13),n["\u0275\u0275elementStart"](7,"div",14),n["\u0275\u0275elementStart"](8,"div",15),n["\u0275\u0275elementStart"](9,"aka-single-ng-select-v1",16),n["\u0275\u0275listener"]("valueChange",(function(t){n["\u0275\u0275restoreView"](e);const i=n["\u0275\u0275nextContext"]();return i.onChangeCatalog(t),i.validateCertificate(i.mainForm)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](10,E,2,0,"div",17),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](11,"div",14),n["\u0275\u0275elementStart"](12,"div",15),n["\u0275\u0275elementStart"](13,"div",18),n["\u0275\u0275elementStart"](14,"div",19),n["\u0275\u0275elementStart"](15,"input",20),n["\u0275\u0275listener"]("change",(function(){n["\u0275\u0275restoreView"](e);const t=n["\u0275\u0275nextContext"]();return t.onChangeCheckBoxCertificate(t.mainForm.controls.isAddNewCertificate.value)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](16,"label",21),n["\u0275\u0275text"](17," \xa0Tick to add new in case you cannot find in the Catalog "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](18,"div",14),n["\u0275\u0275elementStart"](19,"div",15),n["\u0275\u0275elementStart"](20,"aka-input-autocomplete",22),n["\u0275\u0275listener"]("onSelectedData",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().onSelectedSuggest(t)}))("loadData",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().onSelectedCertificateSuggest(t)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](21,w,2,0,"div",17),n["\u0275\u0275template"](22,V,2,0,"div",17),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](23,"div",14),n["\u0275\u0275elementStart"](24,"div",15),n["\u0275\u0275elementStart"](25,"aka-single-ng-select-v1",23),n["\u0275\u0275listener"]("valueChange",(function(t){n["\u0275\u0275restoreView"](e);const i=n["\u0275\u0275nextContext"]();return i.onChangeProvider(t),i.validateCertificate(i.mainForm)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](26,"div",14),n["\u0275\u0275elementStart"](27,"div",15),n["\u0275\u0275elementStart"](28,"div",18),n["\u0275\u0275elementStart"](29,"div",24),n["\u0275\u0275elementStart"](30,"input",25),n["\u0275\u0275listener"]("change",(function(){n["\u0275\u0275restoreView"](e);const t=n["\u0275\u0275nextContext"]();return t.onChangeCheckBoxProvider(t.mainForm.controls.isAddNewProvider.value)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](31,"label",26),n["\u0275\u0275text"](32," \xa0Tick in case you cannot find in Provider List "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](33,"div",14),n["\u0275\u0275elementStart"](34,"div",15),n["\u0275\u0275elementStart"](35,"aka-input",27),n["\u0275\u0275listener"]("loadData",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().onChangeCertificateAuthority(t)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](36,"div",14),n["\u0275\u0275elementStart"](37,"div",28),n["\u0275\u0275elementStart"](38,"aka-single-ng-select-v1",29),n["\u0275\u0275listener"]("valueChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().onChangeField(t)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](39,"div",28),n["\u0275\u0275element"](40,"aka-single-ng-select-v1",30),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](41,"div",14),n["\u0275\u0275elementStart"](42,"div",15),n["\u0275\u0275element"](43,"aka-single-ng-select-v1",31),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](44,"div",14),n["\u0275\u0275elementStart"](45,"div",28),n["\u0275\u0275element"](46,"aka-input",32),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](47,"div",28),n["\u0275\u0275elementStart"](48,"aka-date-picker-v1",33),n["\u0275\u0275listener"]("valueChange",(function(t){n["\u0275\u0275restoreView"](e);const i=n["\u0275\u0275nextContext"]();return i.issueDateChanged(t),i.validateCertificate(i.mainForm)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](49,"div",14),n["\u0275\u0275elementStart"](50,"div",28),n["\u0275\u0275element"](51,"aka-input",34),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](52,"div",28),n["\u0275\u0275element"](53,"aka-date-picker-v1",35),n["\u0275\u0275template"](54,k,2,0,"div",17),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](55,"div",14),n["\u0275\u0275elementStart"](56,"div",28),n["\u0275\u0275elementStart"](57,"div",18),n["\u0275\u0275elementStart"](58,"div",36),n["\u0275\u0275element"](59,"input",37),n["\u0275\u0275elementStart"](60,"label",38),n["\u0275\u0275text"](61," \xa0Tick if this certificate is attendance, no grade "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](62,"div",28),n["\u0275\u0275elementStart"](63,"div",18),n["\u0275\u0275elementStart"](64,"div",36),n["\u0275\u0275element"](65,"input",39),n["\u0275\u0275elementStart"](66,"label",40),n["\u0275\u0275text"](67," \xa0Tick if this certificate is not expired "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](68,A,5,3,"ng-container",0),n["\u0275\u0275template"](69,T,18,4,"ng-container",0),n["\u0275\u0275template"](70,z,3,1,"div",13),n["\u0275\u0275template"](71,K,19,7,"ng-container",0),n["\u0275\u0275template"](72,W,11,5,"ng-container",0),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](73,$,5,0,"div",41),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isCertificateVerified),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("formGroup",e.mainForm),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",!e.isCertificateVerified),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngIf",!e.isCertificateVerified),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("fc",e.mainForm.controls.certificateCatalogId)("isShowClearText",!1)("iData",e.lstCertificateCatalog)("isSubmitted",e.isSubmit)("label","Select from existing certificate catalog")("tabIndex",1)("isRequired",!e.mainForm.controls.isAddNewCertificate.value)("isReadOnly",e.mainForm.controls.isAddNewCertificate.value),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isExistCertInProfile&&!e.mainForm.controls.isAddNewCertificate.value&&(e.mainForm.controls.certificateCatalogId.value||e.mainForm.controls.certificate.value)&&(e.mainForm.controls.providerId.value||e.mainForm.controls.certificateAuthority.value)&&e.mainForm.controls.issueDate.value),n["\u0275\u0275advance"](5),n["\u0275\u0275property"]("value",e.inputCheckboxVal),n["\u0275\u0275advance"](5),n["\u0275\u0275property"]("options",e.lstCertificateCatalogSuggest)("fc",e.mainForm.controls.certificate)("isSubmitted",e.isSubmit)("label","Certificate Name")("tabIndex",1)("isRequired",e.mainForm.controls.isAddNewCertificate.value)("isDisabled",!e.mainForm.controls.isAddNewCertificate.value),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!e.isValidCertificateName&&e.mainForm.controls.isAddNewCertificate.value),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isExistCertInProfile&&e.mainForm.controls.isAddNewCertificate.value&&(e.mainForm.controls.certificateCatalogId.value||e.mainForm.controls.certificate.value)&&(e.mainForm.controls.providerId.value||e.mainForm.controls.certificateAuthority.value)&&e.mainForm.controls.issueDate.value),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("fc",e.mainForm.controls.providerId)("isShowClearText",!1)("iData",e.lstProvider)("isSubmitted",e.isSubmit)("label","Provider")("isRequired",!e.mainForm.controls.isAddNewProvider.value&&e.mainForm.controls.isAddNewCertificate.value)("isReadOnly",e.mainForm.controls.isAddNewProvider.value||!e.mainForm.controls.isAddNewCertificate.value),n["\u0275\u0275advance"](5),n["\u0275\u0275property"]("value",e.inputCheckboxVal),n["\u0275\u0275advance"](5),n["\u0275\u0275property"]("fc",e.mainForm.controls.certificateAuthority)("label","New Provider")("tabIndex",1)("isSubmitted",e.isSubmit)("isRequired",e.mainForm.controls.isAddNewProvider.value)("isReadonly",!e.mainForm.controls.isAddNewProvider.value),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("fc",e.mainForm.controls.userFieldId)("isShowClearText",!1)("iData",e.lstField)("isSubmitted",e.isSubmit)("label","Field")("tabIndex",1)("isRequired",e.mainForm.controls.isAddNewCertificate.value)("isReadOnly",!e.mainForm.controls.isAddNewCertificate.value),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("fc",e.mainForm.controls.userSubFieldId)("isShowClearText",!1)("iData",e.lstSubField)("isSubmitted",e.isSubmit)("label","Sub-Field")("tabIndex",1)("isRequired",!1)("isReadOnly",!e.mainForm.controls.isAddNewCertificate.value||!e.mainForm.controls.userFieldId.value),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("fc",e.mainForm.controls.userLevelId)("isShowClearText",!1)("iData",e.lstLevel)("isSubmitted",e.isSubmit)("label","Level")("tabIndex",1)("isRequired",!1)("isReadOnly",!e.mainForm.controls.isAddNewCertificate.value),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("fc",e.mainForm.controls.licenseNo)("label","License Number")("tabIndex",1)("isSubmitted",e.isSubmit),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("fc",e.mainForm.controls.issueDate)("size","xl")("label","Issued Date")("isRequired",!0)("maxDate",e.maxIssueDate)("placeholder","dd/MM/yyyy")("color","#ffffff")("isSubmitted",e.isSubmit)("isReadOnly",!1)("tabIndex",1),n["\u0275\u0275advance"](3),n["\u0275\u0275property"]("fc",e.mainForm.controls.grade)("label","Grade")("tabIndex",1)("isSubmitted",e.isSubmit)("isRequired",!e.mainForm.controls.attendance.value),n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("fc",e.mainForm.controls.expirationDate)("size","xl")("label","Expired Date")("maxDate",e.maxExpirationDate)("placeholder","dd/MM/yyyy")("color","#ffffff")("isSubmitted",e.isSubmit)("isReadOnly",!1)("tabIndex",1)("isRequired",!e.mainForm.controls.notExpired.value),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!e.isValidStartEnd()),n["\u0275\u0275advance"](14),n["\u0275\u0275property"]("ngIf",!e.isCertificateVerified),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isCertificateVerified),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!e.fromProfile),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&!e.fromProfile),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isCertificateVerified),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!e.isCertificateVerified)}}function ee(e,t){if(1&e&&n["\u0275\u0275element"](0,"aka-learning-credit-achievement",87),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275property"]("modalRef",e.modalRefAchievement)("certificate-name",null==e.data?null:e.data.certificateName)("user-id",null==e.data?null:e.data.userId)}}function te(e,t){1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementStart"](1,"div",94),n["\u0275\u0275elementStart"](2,"span"),n["\u0275\u0275text"](3,"The system will send verfication email to Employee."),n["\u0275\u0275element"](4,"br"),n["\u0275\u0275text"](5," Are you sure you want to confirm for this Certificate?"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]())}function ie(e,t){1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementStart"](1,"div",95),n["\u0275\u0275elementStart"](2,"span"),n["\u0275\u0275text"](3,"This Certificate will be add 30h for Learning Credit and mark as verified in user Profile."),n["\u0275\u0275element"](4,"br"),n["\u0275\u0275text"](5," Are you sure you want to submit?"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]())}function ne(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"span"),n["\u0275\u0275text"](1,"Do you want to submit for Learning Credit?"),n["\u0275\u0275elementEnd"]())}function ae(e,t){1&e&&n["\u0275\u0275elementContainer"](0)}function re(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"div",94),n["\u0275\u0275elementStart"](1,"p"),n["\u0275\u0275elementStart"](2,"span"),n["\u0275\u0275text"](3,"This Certificate will be marked as verified in user Profile."),n["\u0275\u0275elementEnd"](),n["\u0275\u0275element"](4,"br"),n["\u0275\u0275template"](5,ne,2,0,"span",0),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](6,ae,1,0,"ng-container",98),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](4),t=n["\u0275\u0275reference"](6);n["\u0275\u0275advance"](5),n["\u0275\u0275property"]("ngIf",!(null!=e.data&&e.data.courseId)||(null==e.data?null:e.data.type)===e.certificateType.NotinCatalog),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngTemplateOutlet",t)}}function oe(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"div",95),n["\u0275\u0275elementStart"](1,"span"),n["\u0275\u0275text"](2),n["\u0275\u0275element"](3,"br"),n["\u0275\u0275text"](4," Are you sure you want to submit?"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](4);n["\u0275\u0275advance"](2),n["\u0275\u0275textInterpolate1"]("The Certificate will be add ",e.learningHours,"h for Learning Credit and mark as verified in user Profile. ")}}function le(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,re,7,2,"div",96),n["\u0275\u0275template"](2,oe,5,1,"div",97),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](3);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!e.moocCheckBeforeConfirm),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.moocCheckBeforeConfirm)}}function se(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,ie,6,0,"ng-container",0),n["\u0275\u0275template"](2,le,3,2,"ng-container",0),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",(null==e.data?null:e.data.type)===e.certificateType.InternationalCertificate),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",(null==e.data?null:e.data.type)!==e.certificateType.InternationalCertificate)}}function de(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",88),n["\u0275\u0275elementStart"](1,"div",89),n["\u0275\u0275elementStart"](2,"div",47),n["\u0275\u0275elementStart"](3,"h4",90),n["\u0275\u0275text"](4,"Verification Confirmation"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](5,"div",12),n["\u0275\u0275elementContainerStart"](6),n["\u0275\u0275template"](7,te,6,0,"ng-container",0),n["\u0275\u0275template"](8,se,3,2,"ng-container",0),n["\u0275\u0275elementStart"](9,"div",91),n["\u0275\u0275elementStart"](10,"button",92),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().closeModalVerify()})),n["\u0275\u0275text"](11," No "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](12,"button",93),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().saveAndVerify()})),n["\u0275\u0275text"](13," Yes "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](7),n["\u0275\u0275property"]("ngIf",!e.data.isCurrentYear),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.data.isCurrentYear)}}function ce(e,t){1&e&&n["\u0275\u0275elementContainer"](0)}function me(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,ce,1,0,"ng-container",98),n["\u0275\u0275elementContainerEnd"]()),2&e){n["\u0275\u0275nextContext"](4);const e=n["\u0275\u0275reference"](8);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngTemplateOutlet",e)}}function ue(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"p",74),n["\u0275\u0275text"](1),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](4);n["\u0275\u0275advance"](1),n["\u0275\u0275textInterpolate2"](" This certificate might have been added for Learning Credit ",e.data.year,". Please check Learning Credit Courses of ",e.data.account," before submitting. ")}}function he(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",74),n["\u0275\u0275text"](1," This certificate has been provided by Udemy and automatically added to Learning Credit by synchronization. "),n["\u0275\u0275elementEnd"]())}function fe(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,me,2,1,"ng-container",0),n["\u0275\u0275template"](2,ue,2,2,"p",73),n["\u0275\u0275template"](3,he,2,0,"p",73),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](3);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",!e.data.courseId),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&"Udemy"===e.data.certificateAuthority&&!e.data.courseId),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf","Udemy"===e.data.certificateAuthority&&e.data.courseId)}}function pe(e,t){1&e&&n["\u0275\u0275elementContainer"](0)}function ve(e,t){1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementStart"](1,"div",99),n["\u0275\u0275elementStart"](2,"label",100),n["\u0275\u0275text"](3," Education Certificate "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementContainerEnd"]())}function Ce(e,t){1&e&&n["\u0275\u0275elementContainer"](0)}function ge(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,Ce,1,0,"ng-container",98),n["\u0275\u0275elementContainerEnd"]()),2&e){n["\u0275\u0275nextContext"](4);const e=n["\u0275\u0275reference"](8);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngTemplateOutlet",e)}}function Se(e,t){if(1&e&&(n["\u0275\u0275elementStart"](0,"p",74),n["\u0275\u0275text"](1),n["\u0275\u0275elementEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](4);n["\u0275\u0275advance"](1),n["\u0275\u0275textInterpolate2"](" This certificate might have been added for Learning Credit ",e.data.year,". Please check Learning Credit Courses of ",e.data.account," before submitting. ")}}function be(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,ge,2,1,"ng-container",0),n["\u0275\u0275template"](2,Se,2,2,"p",73),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](3);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.data.type===e.certificateType.NotinCatalog),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&"Udemy"===e.data.certificateAuthority)}}function xe(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275elementContainerStart"](1,64),n["\u0275\u0275template"](2,fe,4,3,"ng-container",68),n["\u0275\u0275template"](3,pe,1,0,"ng-container",68),n["\u0275\u0275template"](4,ve,4,0,"ng-container",68),n["\u0275\u0275template"](5,be,3,2,"ng-container",69),n["\u0275\u0275elementContainerEnd"](),n["\u0275\u0275elementContainerEnd"]()),2&e){const e=n["\u0275\u0275nextContext"](2);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitch",e.data.type),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",e.certificateType.CourseCompletion),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",e.certificateType.InternationalCertificate),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngSwitchCase",e.certificateType.EducationCertificate)}}function ye(e,t){1&e&&n["\u0275\u0275elementContainer"](0)}function Ie(e,t){if(1&e&&(n["\u0275\u0275elementContainerStart"](0),n["\u0275\u0275template"](1,ye,1,0,"ng-container",98),n["\u0275\u0275elementContainerEnd"]()),2&e){n["\u0275\u0275nextContext"](2);const e=n["\u0275\u0275reference"](10);n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngTemplateOutlet",e)}}function Fe(e,t){if(1&e&&(n["\u0275\u0275template"](0,xe,6,4,"ng-container",0),n["\u0275\u0275template"](1,Ie,2,1,"ng-container",0)),2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275property"]("ngIf",e.data.isCurrentYear),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission)}}function Ee(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",99),n["\u0275\u0275elementStart"](1,"label",101),n["\u0275\u0275elementStart"](2,"input",102),n["\u0275\u0275listener"]("ngModelChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().isMoocSubmission=t}))("change",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().onSubmissionChange(t)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275text"](3," Learning Credit Submission "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](4,"a",103),n["\u0275\u0275listener"]("click",(function(){n["\u0275\u0275restoreView"](e);const t=n["\u0275\u0275nextContext"](),i=n["\u0275\u0275reference"](2);return t.openLearningCredit(i)})),n["\u0275\u0275text"](5),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](2),n["\u0275\u0275property"]("ngModel",e.isMoocSubmission),n["\u0275\u0275attribute"]("disabled",!(!e.data.moocStatus||e.isEdited)||null),n["\u0275\u0275advance"](3),n["\u0275\u0275textInterpolate1"]("View Learning Credit Achievement List of ",e.data.account,"")}}function we(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",81),n["\u0275\u0275text"](1," Please fill in this field. "),n["\u0275\u0275elementEnd"]())}function Ve(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",81),n["\u0275\u0275text"](1," Please fill in this field. "),n["\u0275\u0275elementEnd"]())}function ke(e,t){1&e&&(n["\u0275\u0275elementStart"](0,"p",81),n["\u0275\u0275text"](1," Learning Hour(s) must be greater than 0. "),n["\u0275\u0275elementEnd"]())}function Pe(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",104),n["\u0275\u0275elementStart"](1,"label"),n["\u0275\u0275text"](2,"Link Course "),n["\u0275\u0275elementStart"](3,"span",76),n["\u0275\u0275text"](4,"*"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](5,"input",105),n["\u0275\u0275listener"]("ngModelChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().linkCourse=t})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](6,we,2,0,"p",78),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](7,"div",106),n["\u0275\u0275elementStart"](8,"label"),n["\u0275\u0275text"](9,"Learning Hour(s) "),n["\u0275\u0275elementStart"](10,"span",76),n["\u0275\u0275text"](11,"*"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](12,"input",107),n["\u0275\u0275listener"]("keydown",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().inputLearningHours(t)}))("ngModelChange",(function(t){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().learningHours=t})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](13,Ve,2,0,"p",78),n["\u0275\u0275template"](14,ke,2,0,"p",78),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](5),n["\u0275\u0275property"]("ngModel",e.linkCourse),n["\u0275\u0275attribute"]("disabled",!(!e.data.moocStatus||e.isEdited)||null),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&1===e.isvalidate(e.linkCourse)),n["\u0275\u0275advance"](6),n["\u0275\u0275property"]("ngModel",e.learningHours),n["\u0275\u0275attribute"]("disabled",!(!e.data.moocStatus||e.isEdited)||null),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&1===e.isvalidate(e.learningHours)),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",e.isMoocSubmission&&2===e.isvalidate(e.learningHours))}}function Ae(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",12),n["\u0275\u0275elementStart"](1,"div",94),n["\u0275\u0275elementStart"](2,"p"),n["\u0275\u0275text"](3),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](4,"p"),n["\u0275\u0275text"](5,"Delete this certificate or update it to another one."),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](6,"div",108),n["\u0275\u0275elementStart"](7,"button",92),n["\u0275\u0275listener"]("click",(function(){n["\u0275\u0275restoreView"](e);const t=n["\u0275\u0275nextContext"](),i=n["\u0275\u0275reference"](14);return t.openModalDeleteCertificate(i,"modal-400")})),n["\u0275\u0275text"](8," Delete Certificate "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](9,"button",93),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().closeModalCertificate()})),n["\u0275\u0275text"](10," Update Information "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&e){const e=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](3),n["\u0275\u0275textInterpolate1"]("Duplicate certificate! This certificate is already in ",e.data.account," Profile.")}}function Me(e,t){if(1&e){const e=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"div",12),n["\u0275\u0275elementStart"](1,"div",94),n["\u0275\u0275elementStart"](2,"p"),n["\u0275\u0275text"](3,"Are you sure you want to delete this certificate?"),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](4,"div",108),n["\u0275\u0275elementStart"](5,"button",92),n["\u0275\u0275listener"]("click",(function(){n["\u0275\u0275restoreView"](e);const t=n["\u0275\u0275nextContext"]();return t.deleteCertificate(t.data)})),n["\u0275\u0275text"](6," Yes "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementStart"](7,"button",93),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](e),n["\u0275\u0275nextContext"]().closeModalCertificate()})),n["\u0275\u0275text"](8," No "),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}}let Ne=(()=>{class e{constructor(e,t,i,a){this.crudService=e,this.toastrService=t,this.cdRef=i,this.modalService=a,this.onSuccess=new n.EventEmitter,this.onCancel=new n.EventEmitter,this.onCheckboxChange=new n.EventEmitter,this.data=null,this.id=null,this.isCertificateVerified=!1,this.isMoocSubmission=!1,this.linkCourse=null,this.learningHours=0,this.currentUserCert=[],this.fromProfile=!1,this.dataSuggest=[],this.isSubmit=!1,this.lstCertificateCatalog=[],this.lstField=[],this.lstSubField=[],this.lstTempSubField=[],this.lstGroup=[],this.lstLevel=[],this.lstProvider=[],this.lstTempProvider=[],this.currentYear=(new Date).getFullYear(),this.maxIssueDate=new Date("12/31/"+this.currentYear),this.maxExpirationDate=new Date("12/31/"+(this.currentYear+30)),this.fileName="",this.file=null,this.fileImage=null,this.cancelUpload=!1,this.isCompletedUploadFile=!0,this.count=0,this.isInit=!0,this.isEdit=!1,this.isValidCertificateName=!0,this.inputCheckboxVal=!0,this.ctcSponsor=!1,this.certificateType={CourseCompletion:0,InternationalCertificate:1,EducationCertificate:2,NotinCatalog:-1},this.currentCertificateType=0,this.isEdited=!1,this.isExistCertInProfile=!1,this.lstCertificateCatalogSuggest=[],this.lstName=[],this.lstType=[{id:0,value:"Course Completion"},{id:1,value:"International Certificate"},{id:2,value:"Education Certificate"},{id:-1,value:"Not in Catalog"}]}ngOnInit(){var e;if(this.isInitVerify=!0,this.data){this.isEdit=!0,this.getImageAttackment(this.isCertificateVerified?this.data.certificateId:this.data.id);const t=this.data.isCurrentYear&&"Udemy"===this.data.certificateAuthority&&""!==this.data.courseId;this.isMoocSubmission||t||(this.learningHours=null,this.linkCourse=null),this.data.isCurrentYear=this.isCurrentYear(null===(e=this.data)||void 0===e?void 0:e.issuedDate),this.originData=l.cloneDeep(this.data)}else this.isInit=!1,this.createForm();this.lstCertificateCatalogSuggest=this.dataSuggest?this.dataSuggest:[],this.getCertificateCatalog(),this.getCertificateCatalogProviders(),this.getCertificateCatalogFields(),this.getCertificateCatalogSubFields(),this.getCertificateCatalogLevels(),setTimeout(()=>{document.getElementById("moocSubmission")&&this.data.moocStatus&&(this.isMoocSubmission=!0)})}ngAfterContentChecked(){this.cdRef.detectChanges()}getCertificateCatalog(){this.crudService.post(r.a.ApiUrl.GetCertificateCatalog,{pageNumber:1,pageSize:1e4}).subscribe(e=>{e&&e.data&&(l.remove(e.data,e=>!e.name),e.data=l.sortBy(e.data,e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase()}),l.each(e.data,e=>{e.providers&&e.providers.length>0&&(e.certificateName=e.name,e.name=e.name+" ("+e.providers[0].name+")")}),this.lstCertificateCatalog=e.data.map(({id:e,name:t,providers:i,fieldId:n,levelId:a,subFieldId:r,certificateName:o,type:l})=>({id:e,value:t,lstProvider:i,fieldId:n,levelId:a,subFieldId:r,certificateName:o,type:l})),this.lstCertificateCatalog=this.lstCertificateCatalog.filter(e=>null!=e.certificateName))})}getCertificateCatalogProviders(){this.crudService.get(r.a.ApiUrl.GetCertificateCatalogProviders).subscribe(e=>{e&&(l.remove(e,e=>!e.name),e=l.sortBy(e,e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase()}),this.isEdit||(this.lstProvider=e.map(({id:e,name:t})=>({id:e,value:t}))),this.lstTempProvider=e.map(({id:e,name:t})=>({id:e,value:t})))})}getCertificateCatalogFields(){this.crudService.get(r.a.ApiUrl.GetCertificateCatalogFields).subscribe(e=>{e&&(this.lstField=e.map(({id:e,name:t})=>({id:e,value:t})))})}getCertificateCatalogSubFields(){this.crudService.get(r.a.ApiUrl.GetCertificateCatalogSubFields).subscribe(e=>{e&&(this.isEdit||(this.lstSubField=e.map(({id:e,name:t,fieldId:i})=>({id:e,value:t,fieldId:i}))),this.lstTempSubField=e.map(({id:e,name:t,fieldId:i})=>({id:e,value:t,fieldId:i})))})}getCertificateCatalogLevels(){this.crudService.get(r.a.ApiUrl.GetCertificateCatalogLevels).subscribe(e=>{e&&(this.lstLevel=e.map(({id:e,name:t})=>({id:e,value:t})))})}getCertificateType(e){this.crudService.getCertificate(`${r.a.ApiUrl.GetCertificateType}?certificateId=${e}`).subscribe(e=>{e&&e.data&&this.data&&(this.data.type=null!==e.data.type?e.data.type:this.certificateType.NotinCatalog,this.data.linkCourse=e.data.linkCourse,this.data.learningHours=e.data.learningHours,this.data.userLinkCourse=null,this.data.userLearningHours=null,this.linkCourse=this.data.linkCourse,this.learningHours=0===this.data.learningHours?null:this.data.learningHours,this.data.courseId=e.data.courseId,this.data.certificateAuthority=this.lstProvider[0].value,this.checkHasCheckbox(),this.isEdited=!0)},e=>{this.linkCourse=null,this.learningHours=null})}getImageAttackment(e){this.crudService.getExportProfile(r.a.ApiUrl.ResumeCertificateImage+"?id="+e).subscribe(t=>{if(t){if(0===t.body.size)this.file=null;else{this.file=t;const e=t.headers.get("Content-Disposition");if(e){const t=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e);null!=t&&t[1]&&(this.fileName=t[1].replace(/['"]/g,""))}this.file.isImage="image"===this.file.body.type.split("/")[0];const i=this.file.body.type;this.file.isImage||(this.file=new File([this.file.body],this.fileName,{type:i}),this.file.progress=100),this.file.isPdf="application/pdf"===i,this.file.isValidFileSize=!0,this.file.isValidFileType=!0}this.getByIDResume(e)}},e=>{this.handleApiResponseError(e)})}getByIDResume(e){this.crudService.getById(r.a.ApiUrl.ResumeCertificate+"/GetById",e).subscribe(e=>{e&&e.data&&(e.data.certificateCatalogId?this.getListProviderByCatalog(e.data.certificateCatalogId):this.getListProvider(),e.data.fieldId?this.getListSubFieldByFieldId(e.data.fieldId):this.getListSubField(),this.isInit=!1,this.createForm(e.data))},e=>{this.handleApiResponseError(e)})}getListProvider(){setTimeout(()=>{this.lstTempProvider&&this.lstTempProvider.length>0?this.lstProvider=l.cloneDeep(this.lstTempProvider):this.getListProvider()},500)}getListProviderByCatalog(e){setTimeout(()=>{if(this.lstCertificateCatalog&&this.lstCertificateCatalog.length>0){const t=l.find(this.lstCertificateCatalog,t=>t.id===e);this.lstProvider=t?t.lstProvider.map(({id:e,name:t})=>({id:e,value:t})):l.cloneDeep(this.lstTempProvider)}else this.getListProviderByCatalog(e)},500)}getListSubField(){setTimeout(()=>{this.lstTempSubField&&this.lstTempSubField.length>0?this.lstSubField=l.cloneDeep(this.lstTempSubField):this.getListSubField()},500)}getListSubFieldByFieldId(e){setTimeout(()=>{if(this.lstTempSubField&&this.lstTempSubField.length>0){const t=l.filter(this.lstTempSubField,t=>t.fieldId===e);this.lstSubField=t||l.cloneDeep(this.lstTempSubField)}else this.getListSubFieldByFieldId(e)},500)}createForm(e){void 0!==e&&(this.isMoocSubmission=!e.isEducation&&this.isMoocSubmission),e?(this.mainForm=new a.FormGroup({certificateCatalogId:new a.FormControl(e.certificateCatalogId,e.certificateCatalogId?a.Validators.required:a.Validators.nullValidator),isAddNewCertificate:new a.FormControl(!e.certificateCatalogId),certificate:new a.FormControl(e.certificateCatalogId?null:e.certificate,e.certificateCatalogId?a.Validators.nullValidator:a.Validators.required),providerId:new a.FormControl(e.providerId,e.certificateCatalogId?a.Validators.nullValidator:e.providerId?a.Validators.required:a.Validators.nullValidator),isAddNewProvider:new a.FormControl({value:!e.providerId,disabled:!!e.certificateCatalogId}),certificateAuthority:new a.FormControl(e.providerId?null:e.certificateAuthority,e.providerId?a.Validators.nullValidator:a.Validators.required),userFieldId:new a.FormControl(e.fieldId,e.certificateCatalogId?a.Validators.nullValidator:a.Validators.required),userSubFieldId:new a.FormControl(e.subFieldId),userLevelId:new a.FormControl(e.levelId),licenseNo:new a.FormControl(e.licenseNo),issueDate:new a.FormControl(e.issueDate,a.Validators.required),grade:new a.FormControl(e.score?e.score:e.grade,e.attendance?a.Validators.nullValidator:a.Validators.required),expirationDate:new a.FormControl(e.expirationDate,e.notExpired?a.Validators.nullValidator:a.Validators.required),attendance:new a.FormControl(e.attendance),notExpired:new a.FormControl(e.notExpired),ctcSponsor:new a.FormControl(e.isCTCSponsor),moocSubmission:new a.FormControl(this.isMoocSubmission),linkCourse:new a.FormControl(this.linkCourse),learningHours:new a.FormControl(this.learningHours),type:new a.FormControl(null!==this.data.type?this.data.type:e.isEducation?this.certificateType.EducationCertificate:this.certificateType.NotinCatalog)}),this.validateCertificate(this.mainForm)):this.mainForm=new a.FormGroup({certificateCatalogId:new a.FormControl(null,a.Validators.required),isAddNewCertificate:new a.FormControl(!1),certificate:new a.FormControl(null),providerId:new a.FormControl(null),isAddNewProvider:new a.FormControl({value:!1,disabled:!0}),certificateAuthority:new a.FormControl(null),userFieldId:new a.FormControl(null),userSubFieldId:new a.FormControl(null),userLevelId:new a.FormControl(null),licenseNo:new a.FormControl(null),issueDate:new a.FormControl(null,a.Validators.required),grade:new a.FormControl(null,a.Validators.required),expirationDate:new a.FormControl(null,a.Validators.required),attendance:new a.FormControl(!1),notExpired:new a.FormControl(!1),ctcSponsor:new a.FormControl(!1),moocSubmission:new a.FormControl(this.isMoocSubmission),linkCourse:new a.FormControl(this.linkCourse),learningHours:new a.FormControl(this.learningHours)}),this.mainForm.controls.certificateCatalogId.valueChanges.subscribe(e=>{e&&this.getCertificateType(e)}),this.mainForm.controls.isAddNewCertificate.valueChanges.subscribe(e=>{e?(this.mainForm.controls.certificate.setValidators(a.Validators.required),this.mainForm.controls.certificate.updateValueAndValidity(),this.mainForm.controls.certificateCatalogId.clearValidators(),this.mainForm.controls.certificateCatalogId.setValue(null),this.mainForm.controls.certificateCatalogId.updateValueAndValidity(),this.mainForm.controls.userFieldId.setValidators(a.Validators.required),this.mainForm.controls.userFieldId.setValue(null),this.mainForm.controls.userFieldId.updateValueAndValidity(),this.mainForm.controls.userSubFieldId.setValue(null),this.mainForm.controls.userSubFieldId.updateValueAndValidity(),this.mainForm.controls.userLevelId.setValue(null),this.mainForm.controls.userLevelId.updateValueAndValidity(),this.mainForm.controls.providerId.setValidators(a.Validators.required),this.mainForm.controls.providerId.setValue(null),this.mainForm.controls.providerId.updateValueAndValidity(),this.mainForm.controls.linkCourse.setValue(null),this.mainForm.controls.learningHours.setValue(null),this.linkCourse=null,this.learningHours=null,this.data&&(this.data.type=this.certificateType.NotinCatalog)):(this.mainForm.controls.certificateCatalogId.setValidators(a.Validators.required),this.mainForm.controls.certificateCatalogId.updateValueAndValidity(),this.mainForm.controls.certificate.clearValidators(),this.mainForm.controls.certificate.setValue(null),this.mainForm.controls.certificate.updateValueAndValidity(),this.mainForm.controls.userFieldId.clearValidators(),this.mainForm.controls.userFieldId.setValue(null),this.mainForm.controls.userFieldId.updateValueAndValidity(),this.mainForm.controls.userSubFieldId.setValue(null),this.mainForm.controls.userSubFieldId.updateValueAndValidity(),this.mainForm.controls.userLevelId.setValue(null),this.mainForm.controls.userLevelId.updateValueAndValidity(),this.mainForm.controls.certificateAuthority.value&&this.mainForm.controls.certificateAuthority.setValue(null),this.mainForm.controls.isAddNewProvider.setValue(null),this.mainForm.controls.providerId.clearValidators(),this.mainForm.controls.providerId.updateValueAndValidity())}),this.mainForm.controls.isAddNewProvider.valueChanges.subscribe(e=>{e?(this.mainForm.controls.certificateAuthority.setValidators(a.Validators.required),this.mainForm.controls.certificateAuthority.updateValueAndValidity(),this.mainForm.controls.providerId.clearValidators(),this.mainForm.controls.providerId.setValue(null),this.mainForm.controls.providerId.updateValueAndValidity()):(this.mainForm.controls.providerId.setValidators(a.Validators.required),this.mainForm.controls.providerId.updateValueAndValidity(),this.mainForm.controls.certificateAuthority.clearValidators(),this.mainForm.controls.certificateAuthority.setValue(null),this.mainForm.controls.certificateAuthority.updateValueAndValidity())}),this.mainForm.controls.certificateAuthority.valueChanges.subscribe(e=>{e&&(this.data&&(this.data.certificateAuthority=e),this.checkHasCheckbox())}),this.mainForm.controls.attendance.valueChanges.subscribe(e=>{e?(this.mainForm.controls.grade.clearValidators(),this.mainForm.controls.grade.updateValueAndValidity()):(this.mainForm.controls.grade.setValidators(a.Validators.required),this.mainForm.controls.grade.updateValueAndValidity())}),this.mainForm.controls.notExpired.valueChanges.subscribe(e=>{e?(this.mainForm.controls.expirationDate.clearValidators(),this.mainForm.controls.expirationDate.updateValueAndValidity()):(this.mainForm.controls.expirationDate.setValidators(a.Validators.required),this.mainForm.controls.expirationDate.updateValueAndValidity())}),this.mainForm.controls.moocSubmission.valueChanges.subscribe(e=>{e&&this.data.type===this.certificateType.CourseCompletion?(this.mainForm.controls.linkCourse.setValue(this.linkCourse),this.mainForm.controls.learningHours.setValue(0===this.learningHours?null:this.learningHours)):(this.mainForm.controls.linkCourse.setValue(null),this.mainForm.controls.learningHours.setValue(null))})}onChangeCatalog(e){var t,i,n;e?(this.mainForm.controls.certificateAuthority.value&&this.mainForm.controls.certificateAuthority.setValue(null),this.mainForm.controls.isAddNewProvider.setValue(null),this.lstProvider=e.lstProvider.map(({id:e,name:t})=>({id:e,value:t})),1===this.lstProvider.length&&this.mainForm.controls.providerId.setValue(this.lstProvider[0].id),this.mainForm.controls.providerId.value&&(l.find(this.lstProvider,e=>e.id===this.mainForm.controls.providerId.value)?(this.mainForm.controls.userFieldId.setValue(e.fieldId),this.mainForm.controls.userSubFieldId.setValue(e.subFieldId),this.mainForm.controls.userLevelId.setValue(e.levelId)):this.mainForm.controls.providerId.setValue(null)),null!==(null===(t=e)||void 0===t?void 0:t.type)?null===(i=this.mainForm.controls.type)||void 0===i||i.setValue(e.type):null===(n=this.mainForm.controls.type)||void 0===n||n.setValue(-1)):(this.lstProvider=l.cloneDeep(this.lstTempProvider),this.mainForm.controls.userFieldId.setValue(null),this.mainForm.controls.userSubFieldId.setValue(null),this.mainForm.controls.userLevelId.setValue(null))}onChangeCheckBoxCertificate(e){e?(this.mainForm.get("isAddNewProvider").enable(),this.lstProvider=l.cloneDeep(this.lstTempProvider),this.mainForm.controls.providerId.setValue(null),this.mainForm.controls.certificateCatalogId.setValue(null),this.mainForm.controls.userFieldId.setValue(null),this.mainForm.controls.userSubFieldId.setValue(null),this.mainForm.controls.userLevelId.setValue(null)):this.mainForm.get("isAddNewProvider").disable()}onChangeProvider(e){if(e){if(this.mainForm.controls.certificateCatalogId.value){const e=l.find(this.lstCertificateCatalog,e=>e.id===this.mainForm.controls.certificateCatalogId.value);e&&(this.mainForm.controls.userFieldId.setValue(e.fieldId),this.mainForm.controls.userSubFieldId.setValue(e.subFieldId),this.mainForm.controls.userLevelId.setValue(e.levelId))}else this.mainForm.controls.certificate.value&&(this.checkCertificateName(this.mainForm.controls.certificate.value),e.value&&this.data&&(this.data.certificateAuthority=e.value));this.isEdited=!0}else this.mainForm.controls.userFieldId.setValue(null),this.mainForm.controls.userSubFieldId.setValue(null),this.mainForm.controls.userLevelId.setValue(null);this.checkHasCheckbox()}onChangeCertificateName(e,t){var i,n;(null===(i=e)||void 0===i?void 0:i.trim().length)>0&&(this.mainForm.controls.providerId.value||(null===(n=this.mainForm.controls.certificateAuthority.value)||void 0===n?void 0:n.trim().length)>0)&&(this.checkCertificateName(e),this.validateCertificate(this.mainForm,e),this.checkHasCheckbox(),this.isEdited=!0)}onChangeCertificateAuthority(e){var t;(null===(t=e)||void 0===t?void 0:t.trim().length)>0&&(this.validateCertificateAuthority(this.mainForm,e),this.data&&(this.data.certificateAuthority=e),this.checkHasCheckbox(),this.checkDuplicateProvider(e),this.isEdited=!0)}checkDuplicateProvider(e){const t=l.find(this.lstProvider,t=>this.compareStringsWithSpaces(t.value)===this.compareStringsWithSpaces(e));t&&(this.mainForm.controls.isAddNewProvider.setValue(null),this.mainForm.controls.providerId.setValue(t.id),this.mainForm.controls.certificateAuthority.setValue(null),this.onChangeProvider(t))}onChangeField(e){e?this.lstSubField=l.filter(this.lstTempSubField,t=>t.fieldId===e.id):this.mainForm.controls.userSubFieldId.setValue(null)}onChangeCheckBoxProvider(e){this.isValidCertificateName=!0,this.checkHasCheckbox()}openLearningCredit(e,t="modal-md"){this.modalRefAchievement=this.modalService.show(e,{backdrop:"static",keyboard:!1,ignoreBackdropClick:!1,class:"modal-dialog-centered "+t})}submitMooc(){const e={certificateIds:this.certificateIds,linkCourse:this.linkCourse,learningHour:this.data.type===this.certificateType.InternationalCertificate&&this.data.isCurrentYear?30:0===this.learningHours?null:this.learningHours};this.isMoocSubmission||(e.linkCourse=null,e.learningHour=null),this.crudService.postCertificate(r.a.ApiUrl.SubmitMooc,e).subscribe(e=>{this.handleApiResponseSuccessCore(e,r.a.Messages.verifiedSuccess,r.a.MessageType.Success).then(e=>{})},e=>{this.handleApiResponseError(e)})}handleApiResponseSuccessCore(e,t=r.a.Messages.SaveSuccess,i=r.a.MessageType.Success){return new Promise((n,a)=>{e&&e.success?(this.toastrService.success(t,i),n(!0)):(this.handleApiResponseError(e),a(!1))})}checkCertificateName(e){var t;const i={pageNumber:1,pageSize:1e4,keyword:null===(t=e)||void 0===t?void 0:t.trim()};this.crudService.post(r.a.ApiUrl.GetCertificateCatalog,i).subscribe(t=>{if(t&&t.data){if(this.isValidCertificateName=!1,l.remove(t.data,e=>!e.name),0===t.data.length)return void(this.isValidCertificateName=!0);const i=l.filter(t.data,t=>{var i,n;return(null===(i=t.name)||void 0===i?void 0:i.toLowerCase())===(null===(n=e)||void 0===n?void 0:n.trim().toLowerCase())});i&&i.length>0?this.mainForm.controls.providerId.value?l.each(i,t=>{const i=l.find(t.providers,e=>e.id===this.mainForm.controls.providerId.value);if(i){const t=l.find(this.lstCertificateCatalog,t=>{var n,a;return(null===(n=t.certificateName)||void 0===n?void 0:n.trim().toLowerCase())===(null===(a=e)||void 0===a?void 0:a.trim().toLowerCase())&&t.lstProvider[0].name.trim().toLowerCase()===i.name.trim().toLowerCase()});this.mainForm.controls.isAddNewCertificate.setValue(null),this.mainForm.controls.certificateCatalogId.setValue(t.id),this.isValidCertificateName=!1,this.mainForm.get("isAddNewProvider").disable(),this.onChangeCatalog(t)}else this.isValidCertificateName=!0}):this.mainForm.controls.certificateAuthority.value&&l.each(i,t=>{const i=l.find(t.providers,e=>{var t;return e.name.toLowerCase()===(null===(t=this.mainForm.controls.certificateAuthority.value)||void 0===t?void 0:t.trim().toLowerCase())});if(i){const t=l.find(this.lstCertificateCatalog,t=>{var n,a;return(null===(n=t.certificateName)||void 0===n?void 0:n.trim().toLowerCase())===(null===(a=e)||void 0===a?void 0:a.trim().toLowerCase())&&t.lstProvider[0].name.trim().toLowerCase()===i.name.trim().toLowerCase()});this.mainForm.controls.isAddNewCertificate.setValue(null),this.mainForm.controls.certificateCatalogId.setValue(t.id),this.isValidCertificateName=!1,this.mainForm.get("isAddNewProvider").disable(),this.onChangeCatalog(t)}else this.isValidCertificateName=!0}):this.isValidCertificateName=!0}})}submit(e,t){var i,n;if(!this.file||this.file.isValidFileSize&&this.file.isValidFileType)if(this.isCertificateVerified){const a={existCertificates:[{userId:this.data.userId,certificate:t.controls.isAddNewCertificate.value?t.controls.certificate.value:null===(i=l.find(this.lstCertificateCatalog,e=>e.id==t.controls.certificateCatalogId.value))||void 0===i?void 0:i.certificateName,provider:t.controls.isAddNewProvider.value?t.controls.certificateAuthority.value:null===(n=l.find(this.lstProvider,e=>e.id==t.controls.providerId.value))||void 0===n?void 0:n.value,issuedDate:d()(t.controls.issueDate.value).format("YYYY-MM-DD"),certificateId:this.data.certificateId}]};this.crudService.post(r.a.ApiUrl.BatchCheckExist,a).subscribe(i=>{i&&i.data&&(l.find(i.data.results,e=>e)?this.currentModalRef=this.modalService.show(this.validateFail,{backdrop:"static",keyboard:!1,ignoreBackdropClick:!1,class:"modal-dialog-centered"}):this.handleSubmit(e,t))},e=>{this.handleApiResponseError(e)})}else this.handleSubmit(e,t)}handleSubmit(e,t){var i,n,a,o,s,c,m,u;if(this.isSave=!0,this.isInitVerify=!1,!this.isValidStartEnd()||!this.isValidGrade||!this.isValidCertificateName&&t.controls.isAddNewCertificate.value)return;if(this.isMoocSubmission&&(!this.linkCourse||""===(null===(i=this.linkCourse)||void 0===i?void 0:i.trim())||!this.learningHours||this.learningHours<=0))return;const h=new FormData;if(t.controls.isAddNewCertificate.value)h.append("Certificate",null===(n=t.controls.certificate.value)||void 0===n?void 0:n.trim()),t.controls.userFieldId.value&&h.append("UserFieldId",t.controls.userFieldId.value),t.controls.userSubFieldId.value&&h.append("UserSubFieldId",t.controls.userSubFieldId.value),t.controls.userLevelId.value&&h.append("UserLevelId",t.controls.userLevelId.value);else{h.append("CertificateCatalogId",t.controls.certificateCatalogId.value);const e=l.find(this.lstCertificateCatalog,e=>e.id===t.controls.certificateCatalogId.value);e&&h.append("Certificate",e.certificateName)}t.controls.isAddNewProvider.value?h.append("CertificateAuthority",null===(a=t.controls.certificateAuthority.value)||void 0===a?void 0:a.trim()):h.append("ProviderId",t.controls.providerId.value),h.append("IssueDate",d()(t.controls.issueDate.value).format("YYYY-MM-DD")),t.controls.expirationDate.value&&h.append("ExpirationDate",d()(t.controls.expirationDate.value).format("YYYY-MM-DD")),h.append("Attendance",t.controls.attendance.value),(null===(o=t.controls.grade.value)||void 0===o?void 0:o.trim().length)>0&&h.append("Score",t.controls.grade.value.trim()),this.isCertificateVerified?(h.append("IsCTCSponsor",t.controls.ctcSponsor.value),h.append("IsCertificateExpire",t.controls.notExpired.value),h.append("IsVerified",e)):(h.append("NotExpired",t.controls.notExpired.value),h.append("ResumeId",this.id)),(null===(s=t.controls.licenseNo.value)||void 0===s?void 0:s.trim().length)>0&&h.append("LicenseNo",t.controls.licenseNo.value.trim()),this.isEdit?(this.file&&this.file.isImage&&!this.file.isPdf&&this.file.isValidFileSize&&this.file.isValidFileType&&this.file.body&&(this.file=new File([this.file.body],this.fileName),this.checkLoadFile(this.file)),(null===(c=this.data)||void 0===c?void 0:c.type)===this.certificateType.InternationalCertificate&&(null===(m=this.data)||void 0===m?void 0:m.isCurrentYear)&&(this.learningHours=30),(null===(u=this.linkCourse)||void 0===u?void 0:u.trim())&&h.append("LinkCourse",this.linkCourse),this.learningHours&&this.learningHours>0&&h.append("LearningHour",this.learningHours.toString()),h.append("file",this.file),this.isCertificateVerified?(h.append("type",null!==this.data.type?this.data.type:-1),h.append("Id",this.data.certificateId),this.crudService.postCertificate(r.a.ApiUrl.EditCertificate,h).subscribe(e=>{e&&this.onSuccess.emit(!0)},e=>{this.handleApiResponseError(e)})):(h.append("Id",this.data.id),this.crudService.put(r.a.ApiUrl.ResumeCertificate+"/Update",this.data.id,h).subscribe(e=>{e&&this.onSuccess.emit(!1)}))):(h.append("file",this.file),this.crudService.post(r.a.ApiUrl.ResumeCertificate+"/Create",h).subscribe(e=>{e&&this.onSuccess.emit(!0)}))}checkLoadFile(e){e.isValidFileSize=!0,e.isValidFileType=!0,e.isImage=!0,e.isPdf=!1}fileItem(e){this.file=e}changeUploadStatus(e){this.isCompletedUploadFile=e,!this.file||this.file.isValidFileSize&&this.file.isValidFileType||(this.file=null)}isValidStartEnd(){const e=this.mainForm.controls.issueDate.value,t=this.mainForm.controls.expirationDate.value;if(e&&t)try{const i=new Date(e),n=new Date(t);return!(i.setHours(0,0,0,0)>n.setHours(0,0,0,0))}catch(i){}return!0}isValidGrade(){const e=this.mainForm.controls.grade.value;return!!(this.mainForm.controls.attendance.value||e&&""!==e.trim())}isValidExpiredDate(){return!(!this.mainForm.controls.notExpired.value&&!this.mainForm.controls.expirationDate.value)}closeModal(){this.data&&(this.data=l.cloneDeep(this.originData)),this.onCancel.emit(this.data),this.d.hide()}inputLearningHours(e){const t=e.target;(isNaN(parseFloat(e.key))&&![".","Backspace","Delete","ArrowLeft","ArrowRight","Home","End"].includes(e.key)||"."===e.key&&t.value.includes("."))&&e.preventDefault()}handleApiResponseError(e){this.closeModal(),l.each(e.errors,()=>{this.toastrService.danger(r.a.MessageType.Error)})}compareStringsWithSpaces(e){return e.toLowerCase().trim().replace(/\s+/g," ")}isCurrentYear(e){return!!e&&new Date(e).getFullYear()===(new Date).getFullYear()}isvalidate(e){return this.isInitVerify?0:e&&parseFloat(e)<=0?2:null===e||""===e||e&&""===e.toString().trim()?1:0}openConfirmPopup(e,t="modal-md"){var i,n;if(!this.file||this.file.isValidFileSize&&this.file.isValidFileType)if(this.isCertificateVerified){const a={existCertificates:[{userId:this.data.userId,certificate:this.mainForm.controls.isAddNewCertificate.value?this.mainForm.controls.certificate.value:null===(i=l.find(this.lstCertificateCatalog,e=>e.id==this.mainForm.controls.certificateCatalogId.value))||void 0===i?void 0:i.certificateName,provider:this.mainForm.controls.isAddNewProvider.value?this.mainForm.controls.certificateAuthority.value:null===(n=l.find(this.lstProvider,e=>e.id==this.mainForm.controls.providerId.value))||void 0===n?void 0:n.value,issuedDate:d()(this.mainForm.controls.issueDate.value).format("YYYY-MM-DD"),certificateId:this.data.certificateId}]};this.crudService.post(r.a.ApiUrl.BatchCheckExist,a).subscribe(i=>{i&&i.data&&(l.find(i.data.results,e=>e)?this.currentModalRef=this.modalService.show(this.validateFail,{backdrop:"static",keyboard:!1,ignoreBackdropClick:!1,class:"modal-dialog-centered"}):this.handleSaveAndVerify(e,t))},e=>{this.handleApiResponseError(e)})}else this.handleSaveAndVerify(e,t)}handleSaveAndVerify(e,t="modal-md"){var i;this.moocCheckBeforeConfirm=this.isMoocSubmission,this.isInitVerify=!1,this.isMoocSubmission&&(!this.linkCourse||""===(null===(i=this.linkCourse)||void 0===i?void 0:i.trim())||!this.learningHours||this.learningHours<=0)||(this.confirmModalRef=this.modalService.show(e,{backdrop:"static",keyboard:!1,ignoreBackdropClick:!1,class:"modal-dialog-centered "+t}))}onKeyUpValidate(e){this.isInitVerify&&(this.isInitVerify=!1)}closeModalVerify(){this.confirmModalRef.hide()}saveAndVerify(){var e;this.isInitVerify=!1,this.isMoocSubmission&&(!this.linkCourse||""===(null===(e=this.linkCourse)||void 0===e?void 0:e.trim())||!this.learningHours||this.learningHours<=0)||(this.form.ngSubmit.emit(!0),this.confirmModalRef.hide())}onSubmissionChange(e){var t,i,n,a,r;e.target.checked&&!(null===(t=this.mainForm.controls.isAddNewCertificate)||void 0===t?void 0:t.value)?((null===(n=null===(i=this.data)||void 0===i?void 0:i.linkCourse)||void 0===n?void 0:n.trim())&&(this.linkCourse=this.data.linkCourse),(null===(a=this.data)||void 0===a?void 0:a.learningHours)&&(null===(r=this.data)||void 0===r?void 0:r.learningHours)>0&&(this.learningHours=this.data.learningHours),this.data.userLinkCourse&&(this.linkCourse=this.data.userLinkCourse),+this.data.userLearningHours>0&&(this.learningHours=this.data.userLearningHours)):(this.linkCourse=null,this.learningHours=null)}issueDateChanged(e){var t;e&&(e.value._d&&this.data&&(this.data.issuedDate=d()(this.mainForm.controls.issueDate.value).format("YYYY-MM-DD"),this.data.isCurrentYear=this.isCurrentYear(null===(t=this.data)||void 0===t?void 0:t.issuedDate),this.isEdited=!0),this.checkHasCheckbox())}checkHasCheckbox(){this.checkboxSubmission?this.onCheckboxChange.emit(!0):(this.isMoocSubmission=!1,this.onCheckboxChange.emit(!1))}isValidFile(e){return!!this.isEdit||!!(e&&e.isValidFileType&&e.isValidFileSize&&this.isCompletedUploadFile)}validateCertificate(e,t){this.isExistCertInProfile=!1;const i=t||e.controls.certificate.value;e.controls.issueDate.value&&(e.controls.certificateCatalogId.value&&e.controls.providerId.value&&e.controls.issueDate.value?l.each(this.currentUserCert,t=>{var i,n,a;if(t.certificateCatalogId==e.controls.certificateCatalogId.value&&(!e.controls.isAddNewProvider.value&&t.providerId==e.controls.providerId.value||e.controls.isAddNewProvider.value&&(null===(i=t.certificateAuthority)||void 0===i?void 0:i.trim().toLowerCase())==(null===(a=null===(n=l.find(this.lstTempProvider,t=>t.id===e.controls.providerId.value))||void 0===n?void 0:n.value)||void 0===a?void 0:a.trim().toLowerCase()))&&this.compareMoment(d()(e.controls.issueDate.value),d()(t.issueDate))){if(this.isEdit&&this.data.id!==t.id)return void(this.isExistCertInProfile=!0);if(!this.isEdit)return void(this.isExistCertInProfile=!0)}}):i&&(e.controls.providerId.value||e.controls.certificateAuthority.value)&&l.each(this.currentUserCert,t=>{var n,a,r,o,s,c,m,u,h;if((null===(n=t.certificate)||void 0===n?void 0:n.trim().toLowerCase())==(null===(a=i)||void 0===a?void 0:a.trim().toLowerCase())&&(e.controls.isAddNewProvider.value&&(null===(r=t.certificateAuthority)||void 0===r?void 0:r.trim().toLowerCase())==(null===(o=e.controls.certificateAuthority.value)||void 0===o?void 0:o.trim().toLowerCase())||!e.controls.isAddNewProvider.value&&t.providerId==e.controls.providerId.value||e.controls.isAddNewProvider.value&&(null===(s=t.provider)||void 0===s?void 0:s.trim().toLowerCase())==(null===(c=e.controls.certificateAuthority.value)||void 0===c?void 0:c.trim().toLowerCase())||!e.controls.isAddNewProvider.value&&(null===(m=t.certificateAuthority)||void 0===m?void 0:m.trim().toLowerCase())==(null===(h=null===(u=l.find(this.lstTempProvider,t=>t.id===e.controls.providerId.value))||void 0===u?void 0:u.value)||void 0===h?void 0:h.trim().toLowerCase()))&&this.compareMoment(d()(e.controls.issueDate.value),d()(t.issueDate))){if(this.isEdit&&this.data.id!==t.id)return void(this.isExistCertInProfile=!0);if(!this.isEdit)return void(this.isExistCertInProfile=!0)}}))}compareMoment(e,t){return!!(d()(e).isSame(t,"year")&&d()(e).isSame(t,"month")&&d()(e).isSame(t,"day"))}openModalDeleteCertificate(e,t){this.currentModalRef.hide(),this.currentModalRef=this.modalService.show(e,{backdrop:"static",keyboard:!1,ignoreBackdropClick:!1,class:"modal-dialog-centered "+t})}deleteCertificate(e){this.currentModalRef.hide(),this.crudService.delete(r.a.ApiUrl.ResumeCertificate+"/Delete",e.certificateId).subscribe(e=>{e&&e.data&&(this.toastrService.success(r.a.Messages.RemoveSuccess),this.onSuccess.emit("delete"))},e=>{this.handleApiResponseError(e)})}closeModalCertificate(){this.currentModalRef.hide()}validateCertificateAuthority(e,t){this.isExistCertInProfile=!1,e.controls.issueDate.value&&(e.controls.certificateCatalogId.value&&e.controls.providerId.value&&e.controls.issueDate.value?l.each(this.currentUserCert,t=>{var i,n,a;if(t.certificateCatalogId==e.controls.certificateCatalogId.value&&(!e.controls.isAddNewProvider.value&&t.providerId==e.controls.providerId.value||e.controls.isAddNewProvider.value&&(null===(i=t.certificateAuthority)||void 0===i?void 0:i.trim().toLowerCase())==(null===(a=null===(n=l.find(this.lstTempProvider,t=>t.id===e.controls.providerId.value))||void 0===n?void 0:n.value)||void 0===a?void 0:a.trim().toLowerCase()))&&this.compareMoment(d()(e.controls.issueDate.value),d()(t.issueDate))){if(this.isEdit&&this.data.id!==t.id)return void(this.isExistCertInProfile=!0);if(!this.isEdit)return void(this.isExistCertInProfile=!0)}}):e.controls.certificate.value&&(e.controls.providerId.value||t)&&l.each(this.currentUserCert,i=>{var n,a,r,o,s,c,m,u,h;if((null===(n=i.certificate)||void 0===n?void 0:n.trim().toLowerCase())==(null===(a=e.controls.certificate.value)||void 0===a?void 0:a.trim().toLowerCase())&&(e.controls.isAddNewProvider.value&&(null===(r=i.certificateAuthority)||void 0===r?void 0:r.trim().toLowerCase())==(null===(o=t)||void 0===o?void 0:o.trim().toLowerCase())||!e.controls.isAddNewProvider.value&&i.providerId==e.controls.providerId.value||e.controls.isAddNewProvider.value&&(null===(s=i.provider)||void 0===s?void 0:s.trim().toLowerCase())==(null===(c=t)||void 0===c?void 0:c.trim().toLowerCase())||!e.controls.isAddNewProvider.value&&(null===(m=i.certificateAuthority)||void 0===m?void 0:m.trim().toLowerCase())==(null===(h=null===(u=l.find(this.lstTempProvider,t=>t.id===e.controls.providerId.value))||void 0===u?void 0:u.value)||void 0===h?void 0:h.trim().toLowerCase()))&&this.compareMoment(d()(e.controls.issueDate.value),d()(i.issueDate))){if(this.isEdit&&this.data.id!==i.id)return void(this.isExistCertInProfile=!0);if(!this.isEdit)return void(this.isExistCertInProfile=!0)}}))}onSelectedSuggest(e){var t,i,n;const a=this.lstCertificateCatalog.filter(t=>{var i;return(null===(i=t)||void 0===i?void 0:i.value.toLowerCase())===e.toLowerCase()});if(a.length>0&&e.length>2){const e=a[0];this.mainForm.controls.certificate.setValue(null),this.mainForm.controls.certificate.clearValidators(),this.mainForm.controls.certificate.setErrors(null),this.mainForm.controls.certificate.markAsPristine(),this.mainForm.controls.certificate.markAsUntouched(),this.isValidCertificateName=!0,this.mainForm.controls.isAddNewCertificate.setValue(!1),this.mainForm.controls.certificateCatalogId.setValue(e.id),this.mainForm.controls.certificateAuthority.value&&this.mainForm.controls.certificateAuthority.setValue(null),this.mainForm.controls.isAddNewProvider.setValue(null),this.mainForm.get("isAddNewProvider").disable(),this.lstProvider=e.lstProvider.map(({id:e,name:t})=>({id:e,value:t})),1===this.lstProvider.length&&this.mainForm.controls.providerId.setValue(this.lstProvider[0].id),this.mainForm.controls.providerId.value&&(l.find(this.lstProvider,e=>e.id===this.mainForm.controls.providerId.value)?(this.mainForm.controls.userFieldId.setValue(e.fieldId),this.mainForm.controls.userSubFieldId.setValue(e.subFieldId),this.mainForm.controls.userLevelId.setValue(e.levelId)):this.mainForm.controls.providerId.setValue(null)),null!==(null===(t=e)||void 0===t?void 0:t.type)?null===(i=this.mainForm.controls.type)||void 0===i||i.setValue(e.type):null===(n=this.mainForm.controls.type)||void 0===n||n.setValue(-1)}}onChangeType(e){this.data.type=e.id}onSelectedCertificateSuggest(e){this.validateCertificate(this.mainForm,e)}}return e.\u0275fac=function(t){return new(t||e)(n["\u0275\u0275directiveInject"](o.c),n["\u0275\u0275directiveInject"](m.jb),n["\u0275\u0275directiveInject"](n.ChangeDetectorRef),n["\u0275\u0275directiveInject"](c.b))},e.\u0275cmp=n["\u0275\u0275defineComponent"]({type:e,selectors:[["aka-add-certificate"]],viewQuery:function(e,t){var i;1&e&&(n["\u0275\u0275viewQuery"](S,!0),n["\u0275\u0275viewQuery"](b,!0),n["\u0275\u0275viewQuery"](x,!0)),2&e&&(n["\u0275\u0275queryRefresh"](i=n["\u0275\u0275loadQuery"]())&&(t.form=i.first),n["\u0275\u0275queryRefresh"](i=n["\u0275\u0275loadQuery"]())&&(t.checkboxSubmission=i.first),n["\u0275\u0275queryRefresh"](i=n["\u0275\u0275loadQuery"]())&&(t.validateFail=i.first))},inputs:{d:"d",data:"data",id:"id",isCertificateVerified:"isCertificateVerified",isMoocSubmission:"isMoocSubmission",linkCourse:"linkCourse",learningHours:"learningHours",certificateIds:"certificateIds",currentUserCert:"currentUserCert",fromProfile:"fromProfile",dataSuggest:"dataSuggest"},outputs:{onSuccess:"onSuccess",onCancel:"onCancel",onCheckboxChange:"onCheckboxChange"},decls:15,vars:1,consts:[[4,"ngIf"],["learningCredit",""],["verifyConfirm",""],["moocSubmission",""],["submissionCheckbox",""],["moocDetail",""],["validateFail",""],["deleteCertificateTemplate",""],["class","modal-header modal-header-cer",4,"ngIf"],[1,"aka-form",3,"formGroup","keydown.enter","ngSubmit"],["form","ngForm"],["class","modal-header",4,"ngIf"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],["formControlName","certificateCatalogId",3,"fc","isShowClearText","iData","isSubmitted","label","tabIndex","isRequired","isReadOnly","valueChange"],["style","margin-top: -16px","class","aka-error",4,"ngIf"],[1,"form-group","mb-0"],[1,"checkbox",2,"margin-bottom","8px"],["formControlName","isAddNewCertificate","type","checkbox","id","checkbox","name","checkbox",3,"value","change"],["for","checkbox",1,"mb-0"],["formControlName","certificate",3,"options","fc","isSubmitted","label","tabIndex","isRequired","isDisabled","onSelectedData","loadData"],["formControlName","providerId",3,"fc","isShowClearText","iData","isSubmitted","label","isRequired","isReadOnly","valueChange"],[1,"checkbox2",2,"margin-bottom","8px"],["type","checkbox","id","checkbox2","name","checkbox2","formControlName","isAddNewProvider",3,"value","change"],["for","checkbox2",1,"mb-0"],["formControlName","certificateAuthority",3,"fc","label","tabIndex","isSubmitted","isRequired","isReadonly","loadData"],[1,"col-md-6"],["formControlName","userFieldId",3,"fc","isShowClearText","iData","isSubmitted","label","tabIndex","isRequired","isReadOnly","valueChange"],["formControlName","userSubFieldId",3,"fc","isShowClearText","iData","isSubmitted","label","tabIndex","isRequired","isReadOnly"],["formControlName","userLevelId",3,"fc","isShowClearText","iData","isSubmitted","label","tabIndex","isRequired","isReadOnly"],["formControlName","licenseNo",3,"fc","label","tabIndex","isSubmitted"],["formControlName","issueDate",3,"fc","size","label","isRequired","maxDate","placeholder","color","isSubmitted","isReadOnly","tabIndex","valueChange"],["formControlName","grade",3,"fc","label","tabIndex","isSubmitted","isRequired"],["formControlName","expirationDate",3,"fc","size","label","maxDate","placeholder","color","isSubmitted","isReadOnly","tabIndex","isRequired"],[1,"checkbox"],["formControlName","attendance","type","checkbox","id","checkbox3","name","checkbox3"],["for","checkbox3",1,"mb-0"],["formControlName","notExpired","type","checkbox","id","checkbox4","name","checkbox4"],["for","checkbox4",1,"mb-0"],["class","modal-footer",4,"ngIf"],[1,"modal-header","modal-header-cer"],[1,"modal-header-action"],["type","button",1,"btn","btn-outline-primary",2,"margin-right","16px",3,"click"],["id","submitBtn",1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary","btn-verify",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],[1,"action-button"],["type","button","aria-label","Close",1,"btn","btn-light","close","pull-right",3,"click"],["aria-hidden","true"],[1,"col-md-12",2,"color","#db8b00"],[1,"aka-error",2,"margin-top","-16px"],[3,"file","cancelUploadFile","fileItem","changeUploadStatus"],["class","aka-error","style","position: unset",4,"ngIf"],[1,"aka-error",2,"position","unset"],[1,"field-invalid"],[1,"row",2,"margin-top","16px"],[1,"col-lg-6"],[1,"row-item"],[1,"row-name"],[1,"row-field"],["type","checkbox","id","checkbox3","name","checkbox3","formControlName","ctcSponsor"],[3,"ngSwitch"],["class","mb-0",4,"ngSwitchCase"],["class","mb-0",4,"ngSwitchDefault"],[1,"mb-0"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mooc-submission"],["id","moocSubmission","type","checkbox","formControlName","moocSubmission",3,"ngModel","ngModelChange","change"],["href","javascript:void(0)",1,"ml-3",3,"click"],["class","mooc-message",4,"ngIf"],[1,"mooc-message"],[1,"link-course","mb-3"],[1,"aka-required"],["type","text","id","linkCourses","formControlName","linkCourse",1,"form-control",3,"ngModel","ngModelChange"],["class","aka-error",4,"ngIf"],[1,"learning-hours"],["type","text","id","learningHours","formControlName","learningHours",1,"form-control",3,"ngModel","keydown","ngModelChange"],[1,"aka-error"],["class","aka-required",4,"ngIf"],[3,"imageType","file","cancelUploadFile","fileItem","changeUploadStatus"],[1,"modal-footer"],["type","submit","tabindex","1",1,"btn","btn-primary"],["type","button","tabindex","1",1,"btn","btn-outline-primary","mr-2",3,"click"],[3,"modalRef","certificate-name","user-id"],[1,"verify-certificate"],[1,"verify-certificate-container"],[1,"title"],[1,"verify-certificate-action","mt-3","text-center"],[1,"btn","btn-outline-primary","mr-3",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"text-center"],[1,"mb-0","text-center"],["class","text-center",4,"ngIf"],["class","mb-0 text-center",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"submission"],[1,"mr-5",2,"width","100%","text-align","center"],[1,"mr-5"],["type","checkbox",3,"ngModel","ngModelChange","change"],["href","javascript:void(0)",3,"click"],[1,"link-course","text-left","mb-3"],["type","text","id","linkCourses",1,"form-control",3,"ngModel","ngModelChange"],[1,"learning-hours","text-left","mb-3"],["type","text","id","learningHours",1,"form-control",3,"ngModel","keydown","ngModelChange"],[1,"mooc-action","mt-3"]],template:function(e,t){1&e&&(n["\u0275\u0275template"](0,Z,74,97,"ng-container",0),n["\u0275\u0275template"](1,ee,1,3,"ng-template",null,1,n["\u0275\u0275templateRefExtractor"]),n["\u0275\u0275template"](3,de,14,2,"ng-template",null,2,n["\u0275\u0275templateRefExtractor"]),n["\u0275\u0275template"](5,Fe,2,2,"ng-template",null,3,n["\u0275\u0275templateRefExtractor"]),n["\u0275\u0275template"](7,Ee,6,3,"ng-template",null,4,n["\u0275\u0275templateRefExtractor"]),n["\u0275\u0275template"](9,Pe,15,7,"ng-template",null,5,n["\u0275\u0275templateRefExtractor"]),n["\u0275\u0275template"](11,Ae,11,1,"ng-template",null,6,n["\u0275\u0275templateRefExtractor"]),n["\u0275\u0275template"](13,Me,9,0,"ng-template",null,7,n["\u0275\u0275templateRefExtractor"])),2&e&&n["\u0275\u0275property"]("ngIf",!t.isInit)},directives:[u.NgIf,a["\u0275angular_packages_forms_forms_y"],a.NgControlStatusGroup,a.FormGroupDirective,h.a,a.NgControlStatus,a.FormControlName,a.CheckboxControlValueAccessor,f.a,p.a,v.a,C.a,u.NgSwitch,u.NgSwitchCase,u.NgSwitchDefault,a.DefaultValueAccessor,g.a,u.NgTemplateOutlet,a.NgModel],styles:["[_nghost-%COMP%]     .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{top:8px!important}[_nghost-%COMP%]     aka-date-picker-v1 .form-group label{margin-bottom:.5rem!important}[_nghost-%COMP%]     aka-date-picker-v1 .input-group input{padding-top:6px!important;height:36px!important}.modal-header-cer[_ngcontent-%COMP%], .modal-header-cer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-header-cer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:0}.modal-header-cer[_ngcontent-%COMP%]   .btn-clear-all[_ngcontent-%COMP%]{color:red}.modal-header-cer[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:0}.modal-header-cer[_ngcontent-%COMP%]   .btn-verify[_ngcontent-%COMP%]{background-color:#0ebf6a;border-color:#0ebf6a;margin-right:8px;margin-left:16px}.modal-header-cer[_ngcontent-%COMP%]   .btn-reject[_ngcontent-%COMP%]{background-color:#ff6262;border-color:#ff6262}.modal-header-cer[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{width:40px;opacity:1;margin-left:8px}.row-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;margin-bottom:15px}.row-item[_ngcontent-%COMP%]   .row-name[_ngcontent-%COMP%]{width:150px;font-weight:500}.row-item[_ngcontent-%COMP%]   .row-field[_ngcontent-%COMP%]{width:calc(100% - 125px)}.mooc-message[_ngcontent-%COMP%], .submission[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-style:italic}.mooc-message[_ngcontent-%COMP%]{font-size:12px;color:#db8b00}.aka-error[_ngcontent-%COMP%], .mooc-message[_ngcontent-%COMP%]{text-align:left!important}.aka-error[_ngcontent-%COMP%]{color:#ff3d71}.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:0;display:flex;align-items:center}.submission[_ngcontent-%COMP%]{text-align:left}"]}),e})()},"kTQ/":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i("cbK4");var n=i("yOcI"),a=i("i2L+"),r=i("uZB1"),o=i("ofXK"),l=i("fXoL");let s=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[o.CommonModule,a.a,n.a,r.a]]}),e})()},sE7M:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("vC38"),a=i("JuUv"),r=i("J9tS"),o=i("LvDl"),l=(i("K3ix"),i("fXoL")),s=i("aceb"),d=i("ofXK");function c(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275text"](1),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("",null==e?null:e.year," ")}}function m(e,t){1&e&&l["\u0275\u0275element"](0,"img",12)}function u(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"tr"),l["\u0275\u0275elementStart"](2,"td"),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"td"),l["\u0275\u0275template"](5,c,2,1,"ng-container",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"td"),l["\u0275\u0275template"](7,m,1,0,"img",11),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](null==e?null:e.title),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",null!==(null==e?null:e.achievedYear)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",null==e?null:e.isCredit)}}let h=(()=>{class e{constructor(e,t,i){this.crudService=e,this.toastrService=t,this.layoutService=i,this.achievementList=[]}ngOnInit(){this.getData(this.certificateName)}onSearch(e){const t=e.target;"Enter"===e.key&&this.getData(""===t.value?this.certificateName:t.value)}getData(e=""){this.crudService.postCertificate(a.a.ApiUrl.CreditAchievement,{keyword:e,userId:this.userId}).subscribe(t=>{t&&t.data&&(this.achievementList=t.data,o.each(this.achievementList,e=>{e.year=new Date(e.achievedYear).getFullYear()}),this.achievementList=o.filter(this.achievementList,t=>t.title!==e))},e=>{this.handleApiResponseError(e)})}handleApiResponseError(e){o.each(e.errors,()=>{this.toastrService.danger(a.a.MessageType.Error)})}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](r.c),l["\u0275\u0275directiveInject"](s.jb),l["\u0275\u0275directiveInject"](n.b))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["aka-learning-credit-achievement"]],inputs:{modalRef:"modalRef",certificateName:["certificate-name","certificateName"],userId:["user-id","userId"]},decls:25,vars:1,consts:[[1,"modal-header"],[1,"btn","btn-link","btn-close",3,"click"],["src","../../../../../assets/images/ic_close.svg","alt","close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],["type","text","placeholder","Input course name then enter to search",1,"form-control","mb-3",3,"keyup"],[1,"achievement-list-container"],[1,"achievement-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],["width","16","src","../../../../../../../../../assets/images/status_verified.svg","alt","verified",4,"ngIf"],["width","16","src","../../../../../../../../../assets/images/status_verified.svg","alt","verified"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"h4"),l["\u0275\u0275text"](2,"Learning Credit Achievement List"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"button",1),l["\u0275\u0275listener"]("click",(function(){return t.modalRef.hide()})),l["\u0275\u0275element"](4,"img",2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"div",3),l["\u0275\u0275elementStart"](6,"div",4),l["\u0275\u0275elementStart"](7,"div",5),l["\u0275\u0275elementStart"](8,"input",6),l["\u0275\u0275listener"]("keyup",(function(e){return t.onSearch(e)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",5),l["\u0275\u0275elementStart"](10,"label"),l["\u0275\u0275text"](11,"The similar"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",7),l["\u0275\u0275elementStart"](13,"div",8),l["\u0275\u0275elementStart"](14,"table"),l["\u0275\u0275elementStart"](15,"thead"),l["\u0275\u0275elementStart"](16,"tr"),l["\u0275\u0275elementStart"](17,"th"),l["\u0275\u0275text"](18,"Title"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"th"),l["\u0275\u0275text"](20,"Achieved Year"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"th"),l["\u0275\u0275text"](22,"Learning Credit"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"tbody"),l["\u0275\u0275template"](24,u,8,3,"ng-container",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](24),l["\u0275\u0275property"]("ngForOf",t.achievementList))},directives:[d.NgForOf,d.NgIf],styles:[".modal-header[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center}.modal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:0}.modal-header[_ngcontent-%COMP%]   .btn-clear-all[_ngcontent-%COMP%]{color:red}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:0}label[_ngcontent-%COMP%]{font-weight:600;color:#8d8a8a}.achievement-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border-left:1px solid #c4c4c4;border-right:1px solid #c4c4c4}.achievement-list-container[_ngcontent-%COMP%]{border-top:1px solid #c4c4c4;border-bottom:1px solid #c4c4c4}.achievement-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.achievement-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1;background-color:#e4e9f2;color:#999;padding:5px 10px;border-bottom:1px solid #c4c4c4}.achievement-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-last-child(2){width:120px}.achievement-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:125px}.achievement-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px;color:#999;border-top:1px solid #c4c4c4;border-bottom:1px solid #c4c4c4}.achievement-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .achievement-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(2){text-align:center}.achievement-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:0}"]}),e})()},uZB1:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i("sE7M");var n=i("i2L+"),a=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[n.a]]}),e})()}}]);